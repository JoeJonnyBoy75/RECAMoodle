"use strict";define(["jquery","core/custom_interaction_events","core/log","core/pubsub"],function(e,t,a,r){window.drawerInitialized=!1;var n='[data-region="drawer-toggle"]',i='[data-action="toggle-drawer"]',s="body",d='.list-group-item[href*="#section-"]',o="#nav-drawer",l=e(document).width()<768,c=function(){e(n).length||a.debug("Page is missing a drawer region"),e(i).length||a.debug("Page is missing a drawer toggle link"),e(n).each(function(t,a){var r=e(a).find(i),n="false"==r.attr("aria-expanded"),d=r.attr("data-side"),o=e(s),c=r.attr("data-preference");l&&M.util.set_user_preference(c,"false"),n?r.attr("aria-expanded","false"):(o.addClass("drawer-open-"+d),r.attr("aria-expanded","true"))}),this.registerEventListeners(),l&&this.closeAll()};return c.prototype.closeAll=function(){e(n).each(function(t,a){var r=e(a).find(i),n=r.attr("data-side"),d=e(s),o=r.attr("aria-controls"),c=e(document.getElementById(o)),u=r.attr("data-preference");r.attr("aria-expanded","false"),d.removeClass("drawer-open-"+n),c.attr("aria-hidden","true"),c.addClass("closed"),l||M.util.set_user_preference(u,"false")})},c.prototype.toggleDrawer=function(t){var a=e(t.target).closest("[data-action=toggle-drawer]"),n=a.attr("aria-controls"),i=e(document.getElementById(n)),d=e(s),o=a.attr("data-side"),c=a.attr("data-preference");l&&M.util.set_user_preference(c,"false"),d.addClass("drawer-ease");var u="true"==a.attr("aria-expanded");u?(d.removeClass("drawer-open-"+o),a.attr("aria-expanded","false"),i.attr("aria-hidden","true"),i.addClass("closed"),l||M.util.set_user_preference(c,"false")):(a.attr("aria-expanded","true"),i.attr("aria-hidden","false"),i.focus(),d.addClass("drawer-open-"+o),i.removeClass("closed"),l||M.util.set_user_preference(c,"true")),r.publish("nav-drawer-toggle-start",u)},c.prototype.preventPageScroll=function(t){var a=t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.originalEvent.detail,r=this.scrollTop+e(this).outerHeight()-this.scrollHeight>=0,n=this.scrollTop<=0;(a<0&&r||a>0&&n)&&t.preventDefault()},c.prototype.registerEventListeners=function(){e(i).each(function(a,r){t.define(e(r),[t.events.activate]),e(r).on(t.events.activate,function(e,t){this.toggleDrawer(t.originalEvent),t.originalEvent.preventDefault()}.bind(this))}.bind(this)),e(d).click(function(){l&&this.closeAll()}.bind(this)),e(o).on("webkitTransitionEnd msTransitionEnd transitionend",function(t){var a="false"==e(t.target).closest(o).attr("aria-hidden");r.publish("nav-drawer-toggle-end",a)})},{init:function(){return 0==window.drawerInitialized&&(window.drawerInitialized=!0,new c)}}});
//# sourceMappingURL=drawer.min.js.map

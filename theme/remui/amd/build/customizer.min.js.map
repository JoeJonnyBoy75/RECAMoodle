{"version":3,"file":"customizer.min.js","sources":["../src/customizer.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/notification',\n    'core/modal_factory',\n    'core/modal_events',\n    './customizer/utils',\n    './customizer/global-site',\n    './customizer/global-body',\n    './customizer/global-colors',\n    './customizer/global-heading',\n    './customizer/global-buttons',\n    './customizer/header-site-identity',\n    './customizer/header-primary',\n    './customizer/header-menu',\n    './customizer/footer',\n    './customizer/additional-settings',\n    './customizer/forms-settings',\n    './customizer/icon-settings',\n    'core/modal_save_cancel'\n], function (\n    $,\n    Ajax,\n    Notification,\n    ModalFactory,\n    ModalEvents,\n    Utils,\n    globalSite,\n    globalBody,\n    globalColors,\n    globalHeading,\n    globalButtons,\n    headerSiteIdentity,\n    headerPrimary,\n    headerMenu,\n    footer,\n    additionalSettings,\n    formssettings,\n    iconsettings\n) {\n\n    /**\n     * Ajax promise requests\n     */\n    var PROMISES = {\n        /**\n         * Save settings to database\n         * @param {String} settings Encoded settings string\n         * @return {Promise}\n         */\n        SAVE_SETTINGS: function (settings) {\n            return Ajax.call([{\n                methodname: 'theme_remui_customizer_save_settings',\n                args: {\n                    'settings': settings\n                }\n            }])[0];\n        }\n    };\n\n    /**\n     * Selectors\n     */\n    var SELECTOR = {\n        CUSTOMIZER: '#customizer',\n        CONTROLS: '#customize-controls',\n        MODE_TOGGLE: '#customize-controls .mode-toggle',\n        WRAP: '#customizer-wrap',\n        CLOSE_CUSTOMIZER: '.customize-controls-close',\n        CUSTMIZER_TOGGLE: '.customizer-controls-toggle',\n        COLOR_SETTING: '.setting-type-color',\n        PUBLISH: '#publish-settings',\n        IFRAME: '#customizer-frame',\n        MAIN_OVERLAY: '#main-overlay',\n        PANEL_LINK: '[sidebar-panel-link]',\n        PANEL_BACK: '.customize-panel-back',\n        PANEL: '.sidebar-panel',\n        PANEL_ID: 'panel-id',\n        PREVIOUS: 'previous',\n        CURRENT: 'current',\n        NEXT: 'next',\n        SETTINGS_RESET: '#reset-settings',\n        INPUT_RESET: '.input-reset',\n        SELECT_RESET: '.select-reset',\n        CHECKBOX_RESET: '.checkbox-reset',\n        COLOR_RESET: '.color-reset',\n        TEXTAREA_RESET: '.textarea-reset',\n        HTMLEDITOR_RESET: '.htmleditor-reset',\n        HEADING_TOGGLE: '.heading-toggle',\n        RANGEINPUT: '.form-range'\n    };\n\n    /**\n     * Initialize setting change handler.\n     */\n    function initHandlers() {\n        globalSite.init();\n        globalBody.init();\n        globalColors.init();\n        globalHeading.init();\n        globalButtons.init();\n        headerSiteIdentity.init();\n        headerPrimary.init();\n        headerMenu.init();\n        footer.init();\n        additionalSettings.init();\n        formssettings.init();\n        iconsettings.init();\n        // Trigger init so external js can handle customizer init.\n        $(document).trigger('edwiser.customizer.init');\n    }\n\n    /**\n     * Apply settings on iframe load.\n     */\n    function applySettings() {\n        globalSite.apply();\n        globalBody.apply();\n        globalColors.apply();\n        globalHeading.apply();\n        globalButtons.apply();\n        headerSiteIdentity.apply();\n        headerPrimary.apply();\n        headerMenu.apply();\n        footer.apply();\n        additionalSettings.apply();\n        formssettings.apply();\n        iconsettings.apply();\n        // Trigger apply so external js can handle customizer apply.\n        $(document).trigger('edwiser.customizer.apply');\n    }\n\n    /**\n     * Initialize events\n     */\n    function init() {\n\n        // Initialize customizer only once.\n        if (window['customizer-enabled'] == true) {\n            return;\n        }\n        window['customizer-enabled'] = true;\n\n        $(document).ready(function ($) {\n            initHandlers();\n\n            // Iframe on load event.\n            $(SELECTOR.IFRAME).on(\"load\", function () {\n                $(Utils.getDocument()).find('body').addClass('customizer-opened');\n                $(Utils.getDocument()).find('.customizer-editing-icon').closest('a')\n                    .addClass('d-none').removeClass('d-flex');\n                $(Utils.getDocument()).find('#sidebar-setting').addClass('d-none');\n                $(document).trigger('remui-adjust-left-side');\n                var contentWindow = this.contentWindow;\n                setTimeout(function () {\n                    // Change browser url on iframe navigation.\n                    window.history.replaceState('pagechange', document.title, M.cfg.wwwroot + '/theme/remui/customizer.php?url=' +\n                        encodeURI(contentWindow.location.href));\n\n                    // Set current iframe url to customizer close button.\n                    $(SELECTOR.CLOSE_CUSTOMIZER).attr('href', contentWindow.location.href);\n\n                    // Apply setting on iframe load.\n                    applySettings();\n\n                    // Hide overlay when iframe loaded.\n                    Utils.hideLoader();\n                    contentWindow.onbeforeunload = function () {\n                        // Show overlay when iframe loaded.\n                        Utils.showLoader();\n                    };\n                }, 10);\n            });\n\n            $(SELECTOR.SETTINGS_RESET).on('click', function () {\n                let settings = $(SELECTOR.CONTROLS).serializeArray();\n                var customcss = '';\n                for (var i = settings.length - 1; i > 0; i--) {\n                    if (settings[i].name == 'customcss') {\n                        customcss = settings[i];\n                        break;\n                    }\n                }\n                ModalFactory.create({\n                    title: M.util.get_string('reset', 'moodle'),\n                    body: M.util.get_string('reset-settings-description', 'theme_remui'),\n                    type: ModalFactory.types.SAVE_CANCEL\n                }, $('#create')).done(function (modal) {\n                    modal.show();\n                    modal.setSaveButtonText(M.util.get_string('yes', 'moodle'));\n                    var root = modal.getRoot();\n                    root.on(ModalEvents.save, function () {\n                        $(SELECTOR.MAIN_OVERLAY).removeClass('d-none');\n                        PROMISES.SAVE_SETTINGS(JSON.stringify([customcss])).done(function () {\n                            location.reload();\n                        }).fail(function (ex) {\n                            Notification.exception(ex);\n                            $(SELECTOR.MAIN_OVERLAY).addClass('d-none');\n                        });\n                    });\n                });\n            });\n\n            // Open next panel.\n            $(SELECTOR.PANEL_LINK).on('click', function () {\n                $(SELECTOR.PANEL + '#' + $(this).data(SELECTOR.PANEL_ID)).addClass(SELECTOR.CURRENT);\n                $(this).closest(SELECTOR.PANEL).removeClass(SELECTOR.CURRENT);\n            });\n\n            // Go back to previous panel.\n            $(SELECTOR.PANEL_BACK).on('click', function () {\n                $(SELECTOR.PANEL + ':not(' + SELECTOR.PANEL + '#' + $(this).data(SELECTOR.PANEL_ID) + ')')\n                    .removeClass(SELECTOR.CURRENT);\n                $(SELECTOR.PANEL + '#' + $(this).data(SELECTOR.PANEL_ID)).addClass(SELECTOR.CURRENT);\n            });\n\n            // Toggle screen mode.\n            $(SELECTOR.MODE_TOGGLE).on('click', function () {\n                $(SELECTOR.CUSTOMIZER).removeClass('mode-desktop mode-tablet mode-mobile')\n                    .addClass(`mode-${$(this).data('mode')}`);\n            });\n\n            // Prevent submission.\n            $(SELECTOR.CONTROLS).on('submit', function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            // Form change handler.\n            $(`\n                ${SELECTOR.CONTROLS} input[type=\"text\"],\n                ${SELECTOR.CONTROLS} input[type=\"number\"],\n                ${SELECTOR.CONTROLS} input[type=\"checkbox\"]\n                ${SELECTOR.CONTROLS} textarea,\n                ${SELECTOR.CONTROLS} select\n            `).on('change', function () {\n                $(SELECTOR.CONTROLS).data('unsaved', true);\n            });\n            $(`${SELECTOR.CONTROLS} input[type=\"color\"]`).on('color.changed', function () {\n                $(SELECTOR.CONTROLS).data('unsaved', true);\n            });\n\n            // Submit settings to database.\n            $(SELECTOR.PUBLISH).on('click', function () {\n                $(SELECTOR.MAIN_OVERLAY).removeClass('d-none');\n                let settings = $(SELECTOR.CONTROLS).serializeArray();\n                settings.forEach(function (element, index) {\n                    if ($(`[name=\"${element.name}\"]`).is('.site-colorpicker')) {\n                        element.value = $(`[name=\"${element.name}\"]`).spectrum('get').toString();\n                        settings[index] = element;\n                    }\n                });\n                PROMISES.SAVE_SETTINGS(JSON.stringify(settings))\n                    .done(function (response) {\n                        let obj = {\n                            type: ModalFactory.types.ALERT\n                        };\n                        if (response.status == false) {\n                            obj.title = M.util.get_string('error', 'theme_remui');\n                            obj.body = response.errors;\n                        } else {\n                            obj.title = M.util.get_string('success', 'moodle');\n                            obj.body = response.message;\n                            $(SELECTOR.CONTROLS).data('unsaved', false);\n                        }\n                        ModalFactory.create(obj, $('#create'))\n                            .done(function (modal) {\n                                modal.show();\n                                $(SELECTOR.MAIN_OVERLAY).addClass('d-none');\n                            });\n                    })\n                    .fail(Notification.exception);\n            });\n\n            // Handle customizer close event.\n            $(SELECTOR.CLOSE_CUSTOMIZER).on('click', function (event) {\n                if ($(SELECTOR.CONTROLS).data('unsaved') == false) {\n                    return true;\n                }\n                event.preventDefault();\n                ModalFactory.create({\n                    title: M.util.get_string('customizer-close-heading', 'theme_remui'),\n                    body: M.util.get_string('customizer-close-description', 'theme_remui'),\n                    type: ModalFactory.types.SAVE_CANCEL\n                }, $('#create'))\n                    .done(function (modal) {\n                        modal.show();\n                        modal.setSaveButtonText(M.util.get_string('yes', 'moodle'));\n                        var root = modal.getRoot();\n                        root.on(ModalEvents.save, function () {\n                            window.location = $(SELECTOR.CLOSE_CUSTOMIZER).attr('href');\n                        });\n                    });\n                return true;\n            });\n\n            // Toggle customizer.\n            $(SELECTOR.CUSTMIZER_TOGGLE).on('click', function () {\n                $('body').toggleClass('full-customizer');\n            });\n\n            // Color reset.\n            $(SELECTOR.COLOR_RESET)\n                .on('click', function () {\n                    let color = $(this).data('default');\n                    $(this).next().find('input').spectrum('set', color);\n                    $(this).next().find('input').trigger('color.changed', color);\n                });\n\n            // Checkbox reset.\n            $(SELECTOR.CHECKBOX_RESET)\n                .on('click', function () {\n                    let value = $(this).data('default');\n                    $(this).next().find('input').prop('checked', $(this).next().find('input').val() == value);\n                    $(this).next().find('input').trigger('change').trigger('input');\n                });\n\n            // Reset select.\n            $(SELECTOR.SELECT_RESET)\n                .on('click', function () {\n                    let value = $(this).data('default');\n                    $(this).next().find('select').val(value).trigger('input').trigger('change');\n                });\n\n            // Reset input.\n            $(SELECTOR.INPUT_RESET)\n                .on('click', function () {\n                    let value = $(this).data('default');\n                    $(this).next().find('input').val(value).trigger('input').trigger('change');\n                });\n\n            // Reset textarea.\n            $(SELECTOR.TEXTAREA_RESET)\n                .on('click', function () {\n                    let value = $(this).data('default');\n                    $(this).next().find('textarea').val(value).trigger('input').trigger('change');\n                });\n\n            // Reset htmleditor.\n            $(SELECTOR.HTMLEDITOR_RESET)\n                .on('click', function () {\n                    let value = $(this).data('default');\n                    let textarea = $(this).next().find('textarea');\n                    $(this).next().find(`#${textarea.attr('id')}editable`).html(value);\n                    textarea.val(value).trigger('input').trigger('change');\n                });\n\n            // Toggle headings.\n            $(SELECTOR.HEADING_TOGGLE).on('click', function () {\n                $(this).next().slideToggle('fast');\n            });\n\n            // Range slider observer.\n            $('body').on('input', SELECTOR.RANGEINPUT, function () {\n                let id = $(this).attr('id');\n                let value = $(this).val();\n                $(`#${id}-range-value`).text(value);\n            });\n        });\n    }\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","Ajax","Notification","ModalFactory","ModalEvents","Utils","globalSite","globalBody","globalColors","globalHeading","globalButtons","headerSiteIdentity","headerPrimary","headerMenu","footer","additionalSettings","formssettings","iconsettings","PROMISES","settings","call","methodname","args","SELECTOR","initHandlers","init","document","trigger","applySettings","apply","window","ready","on","getDocument","find","addClass","closest","removeClass","contentWindow","this","setTimeout","history","replaceState","title","M","cfg","wwwroot","encodeURI","location","href","attr","hideLoader","onbeforeunload","showLoader","serializeArray","customcss","i","length","name","create","util","get_string","body","type","types","SAVE_CANCEL","done","modal","show","setSaveButtonText","getRoot","save","JSON","stringify","reload","fail","ex","exception","data","event","preventDefault","forEach","element","index","is","value","spectrum","toString","response","obj","ALERT","status","errors","message","toggleClass","color","next","prop","val","textarea","html","slideToggle","id","text"],"mappings":"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"}
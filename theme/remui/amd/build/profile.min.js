"use strict";define(["jquery","core/ajax","core/notification","theme_remui/jquery-asPieProgress","theme_remui/aspieprogress"],function(e,s){e("#editprofile .form-horizontal #btn-save-changes").click(function(){var r="div#error-message",t="alert-danger",i="alert-success";e(r).show(),e(r).removeClass(t).addClass(i),e(r).find("p").html("Saving...");var a=e("#first_name").val(),n=e("#surname").val(),o=e.trim(e("#description").val()),m=e.trim(e("#city").val()),l=e("#editprofile .form-horizontal #country option:selected").val();return""===a?(e(r).show(),e(r).removeClass(i).addClass(t),e(r).find("p").html(M.util.get_string("enterfirstname","theme_remui")),e("#first_name").focus(),!1):""===n?(e(r).show(),e(r).removeClass(i).addClass(t),e(r).find("p").html(M.util.get_string("enterlastname","theme_remui")),e("#surname").focus(),!1):(s.call([{methodname:"theme_remui_save_user_profile_settings",args:{fname:a,lname:n,description:o,city:m,country:l}}])[0].done(function(){e(r).show(),e(r).removeClass(t).addClass(i),e(r).find("p").css("margin","0").html(M.util.get_string("detailssavedsuccessfully","theme_remui")),e(".profile-user").text(a+" "+n),e(".usermenu a span.usertext").text(a+" "+n),e("#user-description").text(o)}).fail(function(s){e(r).removeClass(i).addClass(t),e(r).find("p").css("margin","0").html(s.errorcode+" : "+s.error+", "+M.util.get_string("actioncouldnotbeperformed","theme_remui")),Notification.exception(s)}),!1)}),e(".remui-course-progress").asPieProgress({namespace:"asPieProgress"})});
//# sourceMappingURL=profile.min.js.map

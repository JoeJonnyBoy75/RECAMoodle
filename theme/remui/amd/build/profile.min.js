define("theme_remui/profile",["jquery","core/ajax","core/notification"],(function($,Ajax){$("#editprofile .form-horizontal #btn-save-changes").click((function(){var SELECTORS_ERROR="div#error-message",SELECTORS_DANGER="alert-danger",SELECTORS_SUCCESS="alert-success";$(SELECTORS_ERROR).show(),$(SELECTORS_ERROR).removeClass(SELECTORS_DANGER).addClass(SELECTORS_SUCCESS),$(SELECTORS_ERROR).find("p").html("Saving...");var fname=$("#first_name").val(),lname=$("#surname").val(),description=$.trim($("#description").val()),city=$.trim($("#city").val()),country=$("#editprofile .form-horizontal #country option:selected").val();return""===fname?($(SELECTORS_ERROR).show(),$(SELECTORS_ERROR).removeClass(SELECTORS_SUCCESS).addClass(SELECTORS_DANGER),$(SELECTORS_ERROR).find("p").html(M.util.get_string("enterfirstname","theme_remui")),$("#first_name").focus(),!1):""===lname?($(SELECTORS_ERROR).show(),$(SELECTORS_ERROR).removeClass(SELECTORS_SUCCESS).addClass(SELECTORS_DANGER),$(SELECTORS_ERROR).find("p").html(M.util.get_string("enterlastname","theme_remui")),$("#surname").focus(),!1):(Ajax.call([{methodname:"theme_remui_save_user_profile_settings",args:{fname:fname,lname:lname,description:description,city:city,country:country}}])[0].done((function(){$(SELECTORS_ERROR).show(),$(SELECTORS_ERROR).removeClass(SELECTORS_DANGER).addClass(SELECTORS_SUCCESS),$(SELECTORS_ERROR).find("p").css("margin","0").html(M.util.get_string("detailssavedsuccessfully","theme_remui")),$(".profile-user").text(fname+" "+lname),$(".usermenu a span.usertext").text(fname+" "+lname),$("#user-description").text(description)})).fail((function(ex){$(SELECTORS_ERROR).removeClass(SELECTORS_SUCCESS).addClass(SELECTORS_DANGER),$(SELECTORS_ERROR).find("p").css("margin","0").html(ex.errorcode+" : "+ex.error+", "+M.util.get_string("actioncouldnotbeperformed","theme_remui")),Notification.exception(ex)})),!1)}))}));

//# sourceMappingURL=profile.min.js.map
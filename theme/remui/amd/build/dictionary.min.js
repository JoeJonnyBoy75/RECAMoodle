"use strict";define(["jquery","core/notification"],function(e,i){return{init:function(){e("body").mouseup(function(){var n=window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:"";if(""!=n.trim()){var t=function(){var e,i,n,t=window.document,o=t.selection,r=0,d=0;if(o){if(""==o.toString().trim()||"undefined"==o.toString().trim())return!1;"Control"!=o.type&&""!=o.toString&&((e=o.createRange()).collapse(!0),r=e.boundingLeft,d=e.boundingTop)}else if(window.getSelection){if(""==(o=window.getSelection()).toString().trim()||"undefined"==o.toString().trim())return!1;if(o.rangeCount&&""!=o.toString()&&((e=o.getRangeAt(0).cloneRange()).getClientRects&&(e.collapse(!0),(i=e.getClientRects()).length>0&&(n=i[0]),r=n.left,d=n.top),0==r&&0==d)){var s=t.createElement("span");if(s.getClientRects){s.appendChild(t.createTextNode("â€‹")),e.insertNode(s),r=(n=s.getClientRects()[0]).left,d=n.top;var l=s.parentNode;l.removeChild(s),l.normalize()}}}return{x:r,y:d}}();if("undefined"!=t.x&&"undefined"!=t.y){var o=t.x;o+="px";var r=t.y+17;!function(n,t,o,r){var d={async:!0,crossDomain:!0,url:"https://api.pearson.com/v2/dictionaries/entries?"+o+"="+r,method:"GET",success:function(i){if(""!==i&&null!==i){e("#definition_layer").remove();var o="No definition found.",d=0;for(d=0;d<i.results.length;d++)if(null!==i.results[d].senses[0].definition){o=i.results[d].senses[0].definition;break}var s="<div id='definition_layer' style='position:fixed; cursor:pointer;left:"+n+";top:"+t+";z-index:9999;'>";s+='<div class="popover bs-popover-bottom w-400"><div class="arrow"></div>',s+='<h3 class="popover-header">'+r+"</h3>",s+='<div class="popover-body"><p>'+o+"</p></div></div>",s+="</div>",e("body").append(s)}},failure:i.exception};e.ajax(d)}(o,r+="px","headword",n)}}}),e(window).scroll(function(){e("#definition_layer").remove()}),e("body").click(function(){e("#definition_layer").remove()})}}});
//# sourceMappingURL=dictionary.min.js.map

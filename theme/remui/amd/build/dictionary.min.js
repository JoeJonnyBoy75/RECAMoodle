define("theme_remui/dictionary",["jquery","core/notification"],(function($,Notification){return{init:function(){$("body").mouseup((function(){var search=window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:"";if(""!=search.trim()){var obj=function(){var range,rects,rect,doc=window.document,sel=doc.selection,x=0,y=0;if(sel){if(""==sel.toString().trim()||"undefined"==sel.toString().trim())return!1;"Control"!=sel.type&&""!=sel.toString&&((range=sel.createRange()).collapse(!0),x=range.boundingLeft,y=range.boundingTop)}else if(window.getSelection){if(""==(sel=window.getSelection()).toString().trim()||"undefined"==sel.toString().trim())return!1;if(sel.rangeCount&&""!=sel.toString()&&((range=sel.getRangeAt(0).cloneRange()).getClientRects&&(range.collapse(!0),(rects=range.getClientRects()).length>0&&(rect=rects[0]),x=rect.left,y=rect.top),0==x&&0==y)){var span=doc.createElement("span");if(span.getClientRects){span.appendChild(doc.createTextNode("â€‹")),range.insertNode(span),x=(rect=span.getClientRects()[0]).left,y=rect.top;var spanParent=span.parentNode;spanParent.removeChild(span),spanParent.normalize()}}}return{x:x,y:y}}();if("undefined"!=obj.x&&"undefined"!=obj.y){var x=obj.x;x+="px";var y=obj.y+17;(function(x,y,token,search){var settings={async:!0,crossDomain:!0,url:"https://api.pearson.com/v2/dictionaries/entries?"+token+"="+search,method:"GET",success:function(response){if(""!==response&&null!==response){$("#definition_layer").remove();var meaning="No definition found.",i=0;for(i=0;i<response.results.length;i++)if(null!==response.results[i].senses[0].definition){meaning=response.results[i].senses[0].definition;break}var data="<div id='definition_layer' style='position:fixed; cursor:pointer;left:"+x+";top:"+y+";z-index:9999;'>";data+='<div class="popover bs-popover-bottom w-400"><div class="arrow"></div>',data+='<h3 class="popover-header">'+search+"</h3>",data+='<div class="popover-body"><p>'+meaning+"</p></div></div>",data+="</div>",$("body").append(data)}},failure:Notification.exception};$.ajax(settings)})(x,y+="px","headword",search)}}})),$(window).scroll((function(){$("#definition_layer").remove()})),$("body").click((function(){$("#definition_layer").remove()}))}}}));

//# sourceMappingURL=dictionary.min.js.map
{"version":3,"file":"header-menu.min.js","sources":["../../src/customizer/header-menu.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Theme customizer header-menu js\n * @copyright (c) 2021 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author    Yogesh Shirsath\n */\n\ndefine('theme_remui/customizer/header-menu', ['jquery', './utils'], function($, Utils) {\n\n    /**\n     * Selectors\n     */\n    var SELECTOR = {\n        BASE: 'header-menu',\n        SITECOLOR: 'sitecolorhex',\n        NAVBARINVERSE: 'navbarinverse',\n        DEFAULTBACKGROUNDCOLOR: 'header-menu-background-color',\n        DEFAULTTEXTCOLOR: 'header-menu-text-color',\n        HOVERBACKGROUNDCOLOR: 'header-menu-background-hover-color',\n        HOVERTEXTCOLOR: 'header-menu-text-hover-color'\n    };\n\n    /**\n     * Apply settings.\n     * @returns {void}\n     */\n    function apply() {\n        let body = $(Utils.getDocument()).find('body');\n        if (body.is('.focusmode')) {\n            return;\n        }\n        let defaultBackgroundColor = $(`[name=\"${SELECTOR.DEFAULTBACKGROUNDCOLOR}\"]`).spectrum('get').toString();\n        if ($(`[name='${SELECTOR.NAVBARINVERSE}']`).is(':checked')) {\n            defaultBackgroundColor = $(`[name='${SELECTOR.SITECOLOR}']`).spectrum('get').toString();\n        }\n        let defaultTextColor = $(`[name=\"${SELECTOR.DEFAULTTEXTCOLOR}\"]`).spectrum('get').toString();\n        let hoverBackgroundColor = $(`[name=\"${SELECTOR.HOVERBACKGROUNDCOLOR}\"]`).spectrum('get').toString();\n        let hoverTextColor = $(`[name=\"${SELECTOR.HOVERTEXTCOLOR}\"]`).spectrum('get').toString();\n\n        /* eslint-disable no-useless-escape */\n        let content = `\n            .navbar-brand .header-logo span {\n                color: ${defaultTextColor} !important;\n            }\n            .navbar.fixed-top .divider {\n                background-color: ${defaultTextColor} !important;\n            }\n            .navbar-options {\n                background: ${defaultBackgroundColor} !important;\n            }\n\n            .custom-control-input:checked~.custom-control-label::before {\n                background-color: ${defaultBackgroundColor};\n            }\n            \n            .navbar-options > [data-region=\"drawer-toggle\"] .fa,\n            .navbar-options .popover-region .popover-region-toggle .icon,\n            .navbar-options .usermenu-container,\n            .navbar-options .dropdown .dropdown-toggle,\n            .navbar-options > .menu-toggle .fa,\n            .navbar-options .right-menu .simplesearchform .nav-link,\n            .wdm-custom-menus .nav-item > .nav-link,\n            .navbar-options .right-menu .nav-item .nav-link,\n            .navbar-options .right-menu .editmode-switch-form,\n            .navbar-options .right-menu .editmode-switch-form .text-primary,\n            .usermenu-container .userinitials,\n            .usermenu-container .dropdown-toggle::after {\n                color: ${defaultTextColor} !important;\n            }\n\n            .navbar-options > [data-region=\\\"drawer-toggle\\\"]:hover,\n            .navbar-options > .nav-item:hover,\n            .navbar-options > .navbar-nav > .nav-item:hover,\n            .navbar-options > .menu-toggle:hover,\n            .wdm-custom-menus .nav-item:hover > .nav-link,\n            .navbar-options .right-menu .simplesearchform:hover .nav-link,\n            .navbar-options .right-menu .editmode-switch-form:hover,\n            .navbar-options .usermenu-container:hover {\n                background: ${hoverBackgroundColor} !important;\n            }\n\n            .navbar-options > [data-region=\\\"drawer-toggle\\\"]:hover .fa,\n            .navbar-options .popover-region:hover .popover-region-toggle .icon,\n            .navbar-options > .menu-toggle:hover .fa,\n            .navbar-options .right-menu .nav-item:hover .nav-link,\n            .wdm-custom-menus .nav-item:hover > .nav-link,\n            .navbar-options .right-menu .simplesearchform:hover .nav-link,\n            .navbar-options .right-menu .editmode-switch-form:hover,\n            .navbar-options .usermenu-container:hover,\n            .navbar-options .right-menu .editmode-switch-form:hover .text-primary,\n            .usermenu-container:hover .userinitials,\n            .usermenu-container:hover .dropdown-toggle::after  {\n                color: ${hoverTextColor} !important;\n            }\n        `;\n        /* eslint-enable no-useless-escape */\n        Utils.putStyle(SELECTOR.BASE, content);\n    }\n\n    /**\n     * Initialize events.\n     */\n    function init() {\n        apply();\n        $(`\n            [name=\"${SELECTOR.DEFAULTBACKGROUNDCOLOR}\"],\n            [name=\"${SELECTOR.DEFAULTTEXTCOLOR}\"],\n            [name=\"${SELECTOR.HOVERBACKGROUNDCOLOR}\"],\n            [name=\"${SELECTOR.HOVERTEXTCOLOR}\"]\n        `).on('color.changed', apply);\n\n        // Navbar inverse.\n        $(`[name='${SELECTOR.NAVBARINVERSE}']`).on('change', apply);\n    }\n\n    return {\n        init: init,\n        apply: apply\n    };\n});\n"],"names":["define","$","Utils","SELECTOR","apply","getDocument","find","is","defaultBackgroundColor","spectrum","toString","defaultTextColor","hoverBackgroundColor","hoverTextColor","content","putStyle","init","on"],"mappings":";;;;;;AAqBAA,4CAA6C,CAAC,SAAU,YAAY,SAASC,EAAGC,WAKxEC,cACM,cADNA,mBAEW,eAFXA,uBAGe,gBAHfA,gCAIwB,+BAJxBA,0BAKkB,yBALlBA,8BAMsB,qCANtBA,wBAOgB,wCAOXC,WACMH,EAAEC,MAAMG,eAAeC,KAAK,QAC9BC,GAAG,yBAGRC,uBAAyBP,mBAAYE,uCAAqCM,SAAS,OAAOC,WAC1FT,mBAAYE,8BAA4BI,GAAG,cAC3CC,uBAAyBP,mBAAYE,0BAAwBM,SAAS,OAAOC,gBAE7EC,iBAAmBV,mBAAYE,iCAA+BM,SAAS,OAAOC,WAC9EE,qBAAuBX,mBAAYE,qCAAmCM,SAAS,OAAOC,WACtFG,eAAiBZ,mBAAYE,+BAA6BM,SAAS,OAAOC,WAG1EI,0FAEaH,qIAGWA,oHAGNH,8KAIMA,qzBAeXG,mkBAWKC,4zBAcLC,wDAIjBX,MAAMa,SAASZ,cAAeW,eAmB3B,CACHE,gBAbAZ,QACAH,iCACaE,mEACAA,6DACAA,iEACAA,yCACVc,GAAG,gBAAiBb,OAGvBH,mBAAYE,8BAA4Bc,GAAG,SAAUb,QAKrDA,MAAOA"}
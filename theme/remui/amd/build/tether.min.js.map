{"version":3,"sources":["tether.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","root","factory","define","amd","exports","module","Tether","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","TetherBase","undefined","modules","zeroElement","getActualBoundingClientRect","node","boundingRect","getBoundingClientRect","rect","k","ownerDocument","document","_frameElement","defaultView","frameElement","frameRect","top","bottom","left","right","getScrollParents","el","position","getComputedStyle","parents","parent","parentNode","nodeType","style","err","push","_style","overflow","overflowX","overflowY","test","indexOf","body","id","uniqueId","zeroPosCache","getOrigin","contains","createElement","setAttribute","extend","appendChild","getAttribute","defer","removeUtilElements","removeChild","getBounds","doc","documentElement","docEl","box","origin","width","scrollWidth","height","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","getOffsetParent","offsetParent","_scrollBarSize","getScrollBarSize","inner","outer","pointerEvents","visibility","widthContained","offsetWidth","widthScroll","out","arguments","args","Array","apply","slice","forEach","hasOwnProperty","call","removeClass","name","classList","split","cls","trim","remove","regex","RegExp","join","className","getClassName","replace","setClassName","addClass","add","hasClass","SVGAnimatedString","baseVal","updateClasses","all","deferred","fn","flush","pop","Evented","this","value","event","handler","ctx","once","bindings","on","splice","_len","_key","_bindings$event$i","context","Utils","_slicedToArray","arr","isArray","_arr","_n","_d","_e","_s","_i","next","done","sliceIterator","_get","_x6","_x7","_x8","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","get","getPrototypeOf","Error","_TetherBase$Utils","within","a","b","diff","lastCall","lastDuration","pendingTimeout","tick","transformKey","transforms","tethers","tether","now","performance","Date","Math","min","setTimeout","clearTimeout","window","addEventListener","MIRROR_LR","center","MIRROR_TB","middle","OFFSET_MAP","attachmentToOffset","attachment","addOffset","offsets","_ref","parseFloat","offsetToPx","offset","size","parseOffset","_value$split","_value$split2","parseAttachment","TetherClass","_Evented","options","_this","bind","history","setOptions","initialize","subClass","superClass","create","setPrototypeOf","__proto__","_inherits","classes","classPrefix","_this2","pos","targetOffset","targetAttachment","_options","element","targetModifier","jquery","querySelector","getClass","addTargetClasses","scrollParents","disable","enabled","enable","pageYOffset","pageXOffset","innerHeight","innerWidth","bounds","scrollBottom","borderTopWidth","borderBottomWidth","borderLeftWidth","fitAdj","pow","max","scrollPercentage","scrollTop","_cache","_this3","_this4","removeEventListener","_this5","elementAttach","targetAttach","_this6","_addAttachClasses","side","_this7","flushChanges","clearCache","relativeToAttachment","autoToFixedAttachment","updateAttachClasses","elementPos","cache","lastSize","_lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","ret","scrollbarSize","page","viewport","win","parentElement","optimizations","moveElement","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","toLowerCase","scrollLeft","move","unshift","_this8","same","type","found","point","css","transcribe","_same","_pos","gpu","yPos","xPos","matchMedia","matches","round","moved","bodyElement","offsetParentIsBody","currentNode","tagName","writeCSS","write","val","trigger","BOUNDS_FORMAT","constraints","targetHeight","targetWidth","allClasses","constraint","outOfBoundsClass","pinnedClass","addClasses","tAttachment","eAttachment","to","pin","changeAttachX","changeAttachY","_attachment$split","_attachment$split2","toUpperCase","substr","getBoundingRect","map","p","oobClass","pinned","oob","abutted","targetPosSide","shift","shiftTop","shiftLeft","_shift2"],"mappings":"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","sourcesContent":["/*! tether 1.4.4 */\n\n'use strict';\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.Tether = factory();\n    }\n}(this, function() {\n\n    var _createClass = (function() {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if ('value' in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n        return function(Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    })();\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    var TetherBase = undefined;\n    if (typeof TetherBase === 'undefined') {\n        TetherBase = {\n            modules: []\n        };\n    }\n\n    var zeroElement = null;\n\n    // Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n    // if the element lies within a nested document (<frame> or <iframe>-like).\n    function getActualBoundingClientRect(node) {\n        var boundingRect = node.getBoundingClientRect();\n\n        // The original object returned by getBoundingClientRect is immutable, so we clone it\n        // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n        var rect = {};\n        for (var k in boundingRect) {\n            rect[k] = boundingRect[k];\n        }\n\n        if (node.ownerDocument !== document) {\n            var _frameElement = node.ownerDocument.defaultView.frameElement;\n            if (_frameElement) {\n                var frameRect = getActualBoundingClientRect(_frameElement);\n                rect.top += frameRect.top;\n                rect.bottom += frameRect.top;\n                rect.left += frameRect.left;\n                rect.right += frameRect.left;\n            }\n        }\n\n        return rect;\n    }\n\n    function getScrollParents(el) {\n        // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n        var computedStyle = getComputedStyle(el) || {};\n        var position = computedStyle.position;\n        var parents = [];\n\n        if (position === 'fixed') {\n            return [el];\n        }\n\n        var parent = el;\n        while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n            var style = undefined;\n            try {\n                style = getComputedStyle(parent);\n            } catch (err) {}\n\n            if (typeof style === 'undefined' || style === null) {\n                parents.push(parent);\n                return parents;\n            }\n\n            var _style = style;\n            var overflow = _style.overflow;\n            var overflowX = _style.overflowX;\n            var overflowY = _style.overflowY;\n\n            if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n                if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n                    parents.push(parent);\n                }\n            }\n        }\n\n        parents.push(el.ownerDocument.body);\n\n        // If the node is within a frame, account for the parent window scroll\n        if (el.ownerDocument !== document) {\n            parents.push(el.ownerDocument.defaultView);\n        }\n\n        return parents;\n    }\n\n    var uniqueId = (function() {\n        var id = 0;\n        return function() {\n            return ++id;\n        };\n    })();\n\n    var zeroPosCache = {};\n    var getOrigin = function getOrigin() {\n        // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n        // jitter as the user scrolls that messes with our ability to detect if two positions\n        // are equivilant or not.  We place an element at the top left of the page that will\n        // get the same jitter, so we can cancel the two out.\n        var node = zeroElement;\n        if (!node || !document.body.contains(node)) {\n            node = document.createElement('div');\n            node.setAttribute('data-tether-id', uniqueId());\n            extend(node.style, {\n                top: 0,\n                left: 0,\n                position: 'absolute'\n            });\n\n            document.body.appendChild(node);\n\n            zeroElement = node;\n        }\n\n        var id = node.getAttribute('data-tether-id');\n        if (typeof zeroPosCache[id] === 'undefined') {\n            zeroPosCache[id] = getActualBoundingClientRect(node);\n\n            // Clear the cache when this position call is done\n            defer(function() {\n                delete zeroPosCache[id];\n            });\n        }\n\n        return zeroPosCache[id];\n    };\n\n    function removeUtilElements() {\n        if (zeroElement) {\n            document.body.removeChild(zeroElement);\n        }\n        zeroElement = null;\n    };\n\n    function getBounds(el) {\n        var doc = undefined;\n        if (el === document) {\n            doc = document;\n            el = document.documentElement;\n        } else {\n            doc = el.ownerDocument;\n        }\n\n        var docEl = doc.documentElement;\n\n        var box = getActualBoundingClientRect(el);\n\n        var origin = getOrigin();\n\n        box.top -= origin.top;\n        box.left -= origin.left;\n\n        if (typeof box.width === 'undefined') {\n            box.width = document.body.scrollWidth - box.left - box.right;\n        }\n        if (typeof box.height === 'undefined') {\n            box.height = document.body.scrollHeight - box.top - box.bottom;\n        }\n\n        box.top = box.top - docEl.clientTop;\n        box.left = box.left - docEl.clientLeft;\n        box.right = doc.body.clientWidth - box.width - box.left;\n        box.bottom = doc.body.clientHeight - box.height - box.top;\n\n        return box;\n    }\n\n    function getOffsetParent(el) {\n        return el.offsetParent || document.documentElement;\n    }\n\n    var _scrollBarSize = null;\n\n    function getScrollBarSize() {\n        if (_scrollBarSize) {\n            return _scrollBarSize;\n        }\n        var inner = document.createElement('div');\n        inner.style.width = '100%';\n        inner.style.height = '200px';\n\n        var outer = document.createElement('div');\n        extend(outer.style, {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n            visibility: 'hidden',\n            width: '200px',\n            height: '150px',\n            overflow: 'hidden'\n        });\n\n        outer.appendChild(inner);\n\n        document.body.appendChild(outer);\n\n        var widthContained = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        var widthScroll = inner.offsetWidth;\n\n        if (widthContained === widthScroll) {\n            widthScroll = outer.clientWidth;\n        }\n\n        document.body.removeChild(outer);\n\n        var width = widthContained - widthScroll;\n\n        _scrollBarSize = {\n            width: width,\n            height: width\n        };\n        return _scrollBarSize;\n    }\n\n    function extend() {\n        var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        var args = [];\n\n        Array.prototype.push.apply(args, arguments);\n\n        args.slice(1).forEach(function(obj) {\n            if (obj) {\n                for (var key in obj) {\n                    if (({}).hasOwnProperty.call(obj, key)) {\n                        out[key] = obj[key];\n                    }\n                }\n            }\n        });\n\n        return out;\n    }\n\n    function removeClass(el, name) {\n        if (typeof el.classList !== 'undefined') {\n            name.split(' ').forEach(function(cls) {\n                if (cls.trim()) {\n                    el.classList.remove(cls);\n                }\n            });\n        } else {\n            var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n            var className = getClassName(el).replace(regex, ' ');\n            setClassName(el, className);\n        }\n    }\n\n    function addClass(el, name) {\n        if (typeof el.classList !== 'undefined') {\n            name.split(' ').forEach(function(cls) {\n                if (cls.trim()) {\n                    el.classList.add(cls);\n                }\n            });\n        } else {\n            removeClass(el, name);\n            var cls = getClassName(el) + (' ' + name);\n            setClassName(el, cls);\n        }\n    }\n\n    function hasClass(el, name) {\n        if (typeof el.classList !== 'undefined') {\n            return el.classList.contains(name);\n        }\n        var className = getClassName(el);\n        return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n    }\n\n    function getClassName(el) {\n        // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n        // completely separately SVGAnimatedString base classes\n        if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n            return el.className.baseVal;\n        }\n        return el.className;\n    }\n\n    function setClassName(el, className) {\n        el.setAttribute('class', className);\n    }\n\n    function updateClasses(el, add, all) {\n        // Of the set of 'all' classes, we need the 'add' classes, and only the\n        // 'add' classes to be set.\n        all.forEach(function(cls) {\n            if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n                removeClass(el, cls);\n            }\n        });\n\n        add.forEach(function(cls) {\n            if (!hasClass(el, cls)) {\n                addClass(el, cls);\n            }\n        });\n    }\n\n    var deferred = [];\n\n    var defer = function defer(fn) {\n        deferred.push(fn);\n    };\n\n    var flush = function flush() {\n        var fn = undefined;\n        while (fn = deferred.pop()) {\n            fn();\n        }\n    };\n\n    var Evented = (function() {\n        function Evented() {\n            _classCallCheck(this, Evented);\n        }\n\n        _createClass(Evented, [{\n            key: 'on',\n            value: function on(event, handler, ctx) {\n                var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n                if (typeof this.bindings === 'undefined') {\n                    this.bindings = {};\n                }\n                if (typeof this.bindings[event] === 'undefined') {\n                    this.bindings[event] = [];\n                }\n                this.bindings[event].push({\n                    handler: handler,\n                    ctx: ctx,\n                    once: once\n                });\n            }\n        }, {\n            key: 'once',\n            value: function once(event, handler, ctx) {\n                this.on(event, handler, ctx, true);\n            }\n        }, {\n            key: 'off',\n            value: function off(event, handler) {\n                if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n                    return;\n                }\n\n                if (typeof handler === 'undefined') {\n                    delete this.bindings[event];\n                } else {\n                    var i = 0;\n                    while (i < this.bindings[event].length) {\n                        if (this.bindings[event][i].handler === handler) {\n                            this.bindings[event].splice(i, 1);\n                        } else {\n                            ++i;\n                        }\n                    }\n                }\n            }\n        }, {\n            key: 'trigger',\n            value: function trigger(event) {\n                if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n                    var i = 0;\n\n                    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                        args[_key - 1] = arguments[_key];\n                    }\n\n                    while (i < this.bindings[event].length) {\n                        var _bindings$event$i = this.bindings[event][i];\n                        var handler = _bindings$event$i.handler;\n                        var ctx = _bindings$event$i.ctx;\n                        var once = _bindings$event$i.once;\n\n                        var context = ctx;\n                        if (typeof context === 'undefined') {\n                            context = this;\n                        }\n\n                        handler.apply(context, args);\n\n                        if (once) {\n                            this.bindings[event].splice(i, 1);\n                        } else {\n                            ++i;\n                        }\n                    }\n                }\n            }\n        }]);\n\n        return Evented;\n    })();\n\n    TetherBase.Utils = {\n        getActualBoundingClientRect: getActualBoundingClientRect,\n        getScrollParents: getScrollParents,\n        getBounds: getBounds,\n        getOffsetParent: getOffsetParent,\n        extend: extend,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        updateClasses: updateClasses,\n        defer: defer,\n        flush: flush,\n        uniqueId: uniqueId,\n        Evented: Evented,\n        getScrollBarSize: getScrollBarSize,\n        removeUtilElements: removeUtilElements\n    };\n    /* globals TetherBase, performance */\n\n    'use strict';\n\n    var _slicedToArray = (function() {\n        function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n            try {\n                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                    _arr.push(_s.value);\n                    if (i && _arr.length === i) break;\n                }\n            } catch (err) {\n                _d = true;\n                _e = err;\n            } finally {\n                try {\n                    if (!_n && _i['return']) _i['return']();\n                } finally {\n                    if (_d) throw _e;\n                }\n            }\n            return _arr;\n        }\n        return function(arr, i) {\n            if (Array.isArray(arr)) {\n                return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n                return sliceIterator(arr, i);\n            } else {\n                throw new TypeError('Invalid attempt to destructure non-iterable instance');\n            }\n        };\n    })();\n\n    var _createClass = (function() {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if ('value' in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n        return function(Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    })();\n\n    var _get = function get(_x6, _x7, _x8) {\n        var _again = true;\n        _function: while (_again) {\n            var object = _x6,\n                property = _x7,\n                receiver = _x8;\n            _again = false;\n            if (object === null) object = Function.prototype;\n            var desc = Object.getOwnPropertyDescriptor(object, property);\n            if (desc === undefined) {\n                var parent = Object.getPrototypeOf(object);\n                if (parent === null) {\n                    return undefined;\n                } else {\n                    _x6 = parent;\n                    _x7 = property;\n                    _x8 = receiver;\n                    _again = true;\n                    desc = parent = undefined;\n                    continue _function;\n                }\n            } else if ('value' in desc) {\n                return desc.value;\n            } else {\n                var getter = desc.get;\n                if (getter === undefined) {\n                    return undefined;\n                }\n                return getter.call(receiver);\n            }\n        }\n    };\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    if (typeof TetherBase === 'undefined') {\n        throw new Error('You must include the utils.js file before tether.js');\n    }\n\n    var _TetherBase$Utils = TetherBase.Utils;\n    var getScrollParents = _TetherBase$Utils.getScrollParents;\n    var getBounds = _TetherBase$Utils.getBounds;\n    var getOffsetParent = _TetherBase$Utils.getOffsetParent;\n    var extend = _TetherBase$Utils.extend;\n    var addClass = _TetherBase$Utils.addClass;\n    var removeClass = _TetherBase$Utils.removeClass;\n    var updateClasses = _TetherBase$Utils.updateClasses;\n    var defer = _TetherBase$Utils.defer;\n    var flush = _TetherBase$Utils.flush;\n    var getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\n    var removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\n    function within(a, b) {\n        var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n        return a + diff >= b && b >= a - diff;\n    }\n\n    var transformKey = (function() {\n        if (typeof document === 'undefined') {\n            return '';\n        }\n        var el = document.createElement('div');\n\n        var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n        for (var i = 0; i < transforms.length; ++i) {\n            var key = transforms[i];\n            if (el.style[key] !== undefined) {\n                return key;\n            }\n        }\n    })();\n\n    var tethers = [];\n\n    var position = function position() {\n        tethers.forEach(function(tether) {\n            tether.position(false);\n        });\n        flush();\n    };\n\n    function now() {\n        if (typeof performance === 'object' && typeof performance.now === 'function') {\n            return performance.now();\n        }\n        return +new Date();\n    }\n\n    (function() {\n        var lastCall = null;\n        var lastDuration = null;\n        var pendingTimeout = null;\n\n        var tick = function tick() {\n            if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n                // We voluntarily throttle ourselves if we can't manage 60fps\n                lastDuration = Math.min(lastDuration - 16, 250);\n\n                // Just in case this is the last event, remember to position just once more\n                pendingTimeout = setTimeout(tick, 250);\n                return;\n            }\n\n            if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n                // Some browsers call events a little too frequently, refuse to run more than is reasonable\n                return;\n            }\n\n            if (pendingTimeout != null) {\n                clearTimeout(pendingTimeout);\n                pendingTimeout = null;\n            }\n\n            lastCall = now();\n            position();\n            lastDuration = now() - lastCall;\n        };\n\n        if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n            ['resize', 'scroll', 'touchmove'].forEach(function(event) {\n                window.addEventListener(event, tick);\n            });\n        }\n    })();\n\n    var MIRROR_LR = {\n        center: 'center',\n        left: 'right',\n        right: 'left'\n    };\n\n    var MIRROR_TB = {\n        middle: 'middle',\n        top: 'bottom',\n        bottom: 'top'\n    };\n\n    var OFFSET_MAP = {\n        top: 0,\n        left: 0,\n        middle: '50%',\n        center: '50%',\n        bottom: '100%',\n        right: '100%'\n    };\n\n    var autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n        var left = attachment.left;\n        var top = attachment.top;\n\n        if (left === 'auto') {\n            left = MIRROR_LR[relativeToAttachment.left];\n        }\n\n        if (top === 'auto') {\n            top = MIRROR_TB[relativeToAttachment.top];\n        }\n\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    var attachmentToOffset = function attachmentToOffset(attachment) {\n        var left = attachment.left;\n        var top = attachment.top;\n\n        if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n            left = OFFSET_MAP[attachment.left];\n        }\n\n        if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n            top = OFFSET_MAP[attachment.top];\n        }\n\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    function addOffset() {\n        var out = {\n            top: 0,\n            left: 0\n        };\n\n        for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n            offsets[_key] = arguments[_key];\n        }\n\n        offsets.forEach(function(_ref) {\n            var top = _ref.top;\n            var left = _ref.left;\n\n            if (typeof top === 'string') {\n                top = parseFloat(top, 10);\n            }\n            if (typeof left === 'string') {\n                left = parseFloat(left, 10);\n            }\n\n            out.top += top;\n            out.left += left;\n        });\n\n        return out;\n    }\n\n    function offsetToPx(offset, size) {\n        if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n            offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n        }\n        if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n            offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n        }\n\n        return offset;\n    }\n\n    var parseOffset = function parseOffset(value) {\n        var _value$split = value.split(' ');\n\n        var _value$split2 = _slicedToArray(_value$split, 2);\n\n        var top = _value$split2[0];\n        var left = _value$split2[1];\n\n        return {\n            top: top,\n            left: left\n        };\n    };\n    var parseAttachment = parseOffset;\n\n    var TetherClass = (function(_Evented) {\n        _inherits(TetherClass, _Evented);\n\n        function TetherClass(options) {\n            var _this = this;\n\n            _classCallCheck(this, TetherClass);\n\n            _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n            this.position = this.position.bind(this);\n\n            tethers.push(this);\n\n            this.history = [];\n\n            this.setOptions(options, false);\n\n            TetherBase.modules.forEach(function(module) {\n                if (typeof module.initialize !== 'undefined') {\n                    module.initialize.call(_this);\n                }\n            });\n\n            this.position();\n        }\n\n        _createClass(TetherClass, [{\n            key: 'getClass',\n            value: function getClass() {\n                var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n                var classes = this.options.classes;\n\n                if (typeof classes !== 'undefined' && classes[key]) {\n                    return this.options.classes[key];\n                } else if (this.options.classPrefix) {\n                    return this.options.classPrefix + '-' + key;\n                } else {\n                    return key;\n                }\n            }\n        }, {\n            key: 'setOptions',\n            value: function setOptions(options) {\n                var _this2 = this;\n\n                var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n                var defaults = {\n                    offset: '0 0',\n                    targetOffset: '0 0',\n                    targetAttachment: 'auto auto',\n                    classPrefix: 'tether'\n                };\n\n                this.options = extend(defaults, options);\n\n                var _options = this.options;\n                var element = _options.element;\n                var target = _options.target;\n                var targetModifier = _options.targetModifier;\n\n                this.element = element;\n                this.target = target;\n                this.targetModifier = targetModifier;\n\n                if (this.target === 'viewport') {\n                    this.target = document.body;\n                    this.targetModifier = 'visible';\n                } else if (this.target === 'scroll-handle') {\n                    this.target = document.body;\n                    this.targetModifier = 'scroll-handle';\n                }\n\n                ['element', 'target'].forEach(function(key) {\n                    if (typeof _this2[key] === 'undefined') {\n                        throw new Error('Tether Error: Both element and target must be defined');\n                    }\n\n                    if (typeof _this2[key].jquery !== 'undefined') {\n                        _this2[key] = _this2[key][0];\n                    } else if (typeof _this2[key] === 'string') {\n                        _this2[key] = document.querySelector(_this2[key]);\n                    }\n                });\n\n                addClass(this.element, this.getClass('element'));\n                if (!(this.options.addTargetClasses === false)) {\n                    addClass(this.target, this.getClass('target'));\n                }\n\n                if (!this.options.attachment) {\n                    throw new Error('Tether Error: You must provide an attachment');\n                }\n\n                this.targetAttachment = parseAttachment(this.options.targetAttachment);\n                this.attachment = parseAttachment(this.options.attachment);\n                this.offset = parseOffset(this.options.offset);\n                this.targetOffset = parseOffset(this.options.targetOffset);\n\n                if (typeof this.scrollParents !== 'undefined') {\n                    this.disable();\n                }\n\n                if (this.targetModifier === 'scroll-handle') {\n                    this.scrollParents = [this.target];\n                } else {\n                    this.scrollParents = getScrollParents(this.target);\n                }\n\n                if (!(this.options.enabled === false)) {\n                    this.enable(pos);\n                }\n            }\n        }, {\n            key: 'getTargetBounds',\n            value: function getTargetBounds() {\n                if (typeof this.targetModifier !== 'undefined') {\n                    if (this.targetModifier === 'visible') {\n                        if (this.target === document.body) {\n                            return {\n                                top: pageYOffset,\n                                left: pageXOffset,\n                                height: innerHeight,\n                                width: innerWidth\n                            };\n                        } else {\n                            var bounds = getBounds(this.target);\n\n                            var out = {\n                                height: bounds.height,\n                                width: bounds.width,\n                                top: bounds.top,\n                                left: bounds.left\n                            };\n\n                            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n                            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n                            out.height = Math.min(innerHeight, out.height);\n                            out.height -= 2;\n\n                            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n                            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n                            out.width = Math.min(innerWidth, out.width);\n                            out.width -= 2;\n\n                            if (out.top < pageYOffset) {\n                                out.top = pageYOffset;\n                            }\n                            if (out.left < pageXOffset) {\n                                out.left = pageXOffset;\n                            }\n\n                            return out;\n                        }\n                    } else if (this.targetModifier === 'scroll-handle') {\n                        var bounds = undefined;\n                        var target = this.target;\n                        if (target === document.body) {\n                            target = document.documentElement;\n\n                            bounds = {\n                                left: pageXOffset,\n                                top: pageYOffset,\n                                height: innerHeight,\n                                width: innerWidth\n                            };\n                        } else {\n                            bounds = getBounds(target);\n                        }\n\n                        var style = getComputedStyle(target);\n\n                        var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n                        var scrollBottom = 0;\n                        if (hasBottomScroll) {\n                            scrollBottom = 15;\n                        }\n\n                        var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n                        var out = {\n                            width: 15,\n                            height: height * 0.975 * (height / target.scrollHeight),\n                            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n                        };\n\n                        var fitAdj = 0;\n                        if (height < 408 && this.target === document.body) {\n                            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n                        }\n\n                        if (this.target !== document.body) {\n                            out.height = Math.max(out.height, 24);\n                        }\n\n                        var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n                        out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n                        if (this.target === document.body) {\n                            out.height = Math.max(out.height, 24);\n                        }\n\n                        return out;\n                    }\n                } else {\n                    return getBounds(this.target);\n                }\n            }\n        }, {\n            key: 'clearCache',\n            value: function clearCache() {\n                this._cache = {};\n            }\n        }, {\n            key: 'cache',\n            value: function cache(k, getter) {\n                // More than one module will often need the same DOM info, so\n                // we keep a cache which is cleared on each position call\n                if (typeof this._cache === 'undefined') {\n                    this._cache = {};\n                }\n\n                if (typeof this._cache[k] === 'undefined') {\n                    this._cache[k] = getter.call(this);\n                }\n\n                return this._cache[k];\n            }\n        }, {\n            key: 'enable',\n            value: function enable() {\n                var _this3 = this;\n\n                var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n                if (!(this.options.addTargetClasses === false)) {\n                    addClass(this.target, this.getClass('enabled'));\n                }\n                addClass(this.element, this.getClass('enabled'));\n                this.enabled = true;\n\n                this.scrollParents.forEach(function(parent) {\n                    if (parent !== _this3.target.ownerDocument) {\n                        parent.addEventListener('scroll', _this3.position);\n                    }\n                });\n\n                if (pos) {\n                    this.position();\n                }\n            }\n        }, {\n            key: 'disable',\n            value: function disable() {\n                var _this4 = this;\n\n                removeClass(this.target, this.getClass('enabled'));\n                removeClass(this.element, this.getClass('enabled'));\n                this.enabled = false;\n\n                if (typeof this.scrollParents !== 'undefined') {\n                    this.scrollParents.forEach(function(parent) {\n                        parent.removeEventListener('scroll', _this4.position);\n                    });\n                }\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                var _this5 = this;\n\n                this.disable();\n\n                tethers.forEach(function(tether, i) {\n                    if (tether === _this5) {\n                        tethers.splice(i, 1);\n                    }\n                });\n\n                // Remove any elements we were using for convenience from the DOM\n                if (tethers.length === 0) {\n                    removeUtilElements();\n                }\n            }\n        }, {\n            key: 'updateAttachClasses',\n            value: function updateAttachClasses(elementAttach, targetAttach) {\n                var _this6 = this;\n\n                elementAttach = elementAttach || this.attachment;\n                targetAttach = targetAttach || this.targetAttachment;\n                var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n                if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n                    // updateAttachClasses can be called more than once in a position call, so\n                    // we need to clean up after ourselves such that when the last defer gets\n                    // ran it doesn't add any extra classes from previous calls.\n                    this._addAttachClasses.splice(0, this._addAttachClasses.length);\n                }\n\n                if (typeof this._addAttachClasses === 'undefined') {\n                    this._addAttachClasses = [];\n                }\n                var add = this._addAttachClasses;\n\n                if (elementAttach.top) {\n                    add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n                }\n                if (elementAttach.left) {\n                    add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n                }\n                if (targetAttach.top) {\n                    add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n                }\n                if (targetAttach.left) {\n                    add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n                }\n\n                var all = [];\n                sides.forEach(function(side) {\n                    all.push(_this6.getClass('element-attached') + '-' + side);\n                    all.push(_this6.getClass('target-attached') + '-' + side);\n                });\n\n                defer(function() {\n                    if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n                        return;\n                    }\n\n                    updateClasses(_this6.element, _this6._addAttachClasses, all);\n                    if (!(_this6.options.addTargetClasses === false)) {\n                        updateClasses(_this6.target, _this6._addAttachClasses, all);\n                    }\n\n                    delete _this6._addAttachClasses;\n                });\n            }\n        }, {\n            key: 'position',\n            value: function position() {\n                var _this7 = this;\n\n                var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n                // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n                // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n                if (!this.enabled) {\n                    return;\n                }\n\n                this.clearCache();\n\n                // Turn 'auto' attachments into the appropriate corner or edge\n                var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n                this.updateAttachClasses(this.attachment, targetAttachment);\n\n                var elementPos = this.cache('element-bounds', function() {\n                    return getBounds(_this7.element);\n                });\n\n                var width = elementPos.width;\n                var height = elementPos.height;\n\n                if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n                    var _lastSize = this.lastSize;\n\n                    // We cache the height and width to make it possible to position elements that are\n                    // getting hidden.\n                    width = _lastSize.width;\n                    height = _lastSize.height;\n                } else {\n                    this.lastSize = {\n                        width: width,\n                        height: height\n                    };\n                }\n\n                var targetPos = this.cache('target-bounds', function() {\n                    return _this7.getTargetBounds();\n                });\n                var targetSize = targetPos;\n\n                // Get an actual px offset from the attachment\n                var offset = offsetToPx(attachmentToOffset(this.attachment), {\n                    width: width,\n                    height: height\n                });\n                var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n                var manualOffset = offsetToPx(this.offset, {\n                    width: width,\n                    height: height\n                });\n                var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n                // Add the manually provided offset\n                offset = addOffset(offset, manualOffset);\n                targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n                // It's now our goal to make (element position + offset) == (target position + target offset)\n                var left = targetPos.left + targetOffset.left - offset.left;\n                var top = targetPos.top + targetOffset.top - offset.top;\n\n                for (var i = 0; i < TetherBase.modules.length; ++i) {\n                    var _module2 = TetherBase.modules[i];\n                    var ret = _module2.position.call(this, {\n                        left: left,\n                        top: top,\n                        targetAttachment: targetAttachment,\n                        targetPos: targetPos,\n                        elementPos: elementPos,\n                        offset: offset,\n                        targetOffset: targetOffset,\n                        manualOffset: manualOffset,\n                        manualTargetOffset: manualTargetOffset,\n                        scrollbarSize: scrollbarSize,\n                        attachment: this.attachment\n                    });\n\n                    if (ret === false) {\n                        return false;\n                    } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n                        continue;\n                    } else {\n                        top = ret.top;\n                        left = ret.left;\n                    }\n                }\n\n                // We describe the position three different ways to give the optimizer\n                // a chance to decide the best possible way to position the element\n                // with the fewest repaints.\n                var next = {\n                    // It's position relative to the page (absolute positioning when\n                    // the element is a child of the body)\n                    page: {\n                        top: top,\n                        left: left\n                    },\n\n                    // It's position relative to the viewport (fixed positioning)\n                    viewport: {\n                        top: top - pageYOffset,\n                        bottom: pageYOffset - top - height + innerHeight,\n                        left: left - pageXOffset,\n                        right: pageXOffset - left - width + innerWidth\n                    }\n                };\n\n                var doc = this.target.ownerDocument;\n                var win = doc.defaultView;\n\n                var scrollbarSize = undefined;\n                if (win.innerHeight > doc.documentElement.clientHeight) {\n                    scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n                    next.viewport.bottom -= scrollbarSize.height;\n                }\n\n                if (win.innerWidth > doc.documentElement.clientWidth) {\n                    scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n                    next.viewport.right -= scrollbarSize.width;\n                }\n\n                if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n                    // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n                    next.page.bottom = doc.body.scrollHeight - top - height;\n                    next.page.right = doc.body.scrollWidth - left - width;\n                }\n\n                if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n                    (function() {\n                        var offsetParent = _this7.cache('target-offsetparent', function() {\n                            return getOffsetParent(_this7.target);\n                        });\n                        var offsetPosition = _this7.cache('target-offsetparent-bounds', function() {\n                            return getBounds(offsetParent);\n                        });\n                        var offsetParentStyle = getComputedStyle(offsetParent);\n                        var offsetParentSize = offsetPosition;\n\n                        var offsetBorder = {};\n                        ['Top', 'Left', 'Bottom', 'Right'].forEach(function(side) {\n                            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n                        });\n\n                        offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n                        offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n                        if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n                            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n                                // We're within the visible part of the target's scroll parent\n                                var scrollTop = offsetParent.scrollTop;\n                                var scrollLeft = offsetParent.scrollLeft;\n\n                                // It's position relative to the target's offset parent (absolute positioning when\n                                // the element is moved to be a child of the target's offset parent).\n                                next.offset = {\n                                    top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                                    left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n                                };\n                            }\n                        }\n                    })();\n                }\n\n                // We could also travel up the DOM and try each containing context, rather than only\n                // looking at the body, but we're gonna get diminishing returns.\n\n                this.move(next);\n\n                this.history.unshift(next);\n\n                if (this.history.length > 3) {\n                    this.history.pop();\n                }\n\n                if (flushChanges) {\n                    flush();\n                }\n\n                return true;\n            }\n\n            // THE ISSUE\n        }, {\n            key: 'move',\n            value: function move(pos) {\n                var _this8 = this;\n\n                if (!(typeof this.element.parentNode !== 'undefined')) {\n                    return;\n                }\n\n                var same = {};\n\n                for (var type in pos) {\n                    same[type] = {};\n\n                    for (var key in pos[type]) {\n                        var found = false;\n\n                        for (var i = 0; i < this.history.length; ++i) {\n                            var point = this.history[i];\n                            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n                                found = true;\n                                break;\n                            }\n                        }\n\n                        if (!found) {\n                            same[type][key] = true;\n                        }\n                    }\n                }\n\n                var css = {\n                    top: '',\n                    left: '',\n                    right: '',\n                    bottom: ''\n                };\n\n                var transcribe = function transcribe(_same, _pos) {\n                    var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n                    var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n                    if (gpu !== false) {\n                        var yPos = undefined,\n                            xPos = undefined;\n                        if (_same.top) {\n                            css.top = 0;\n                            yPos = _pos.top;\n                        } else {\n                            css.bottom = 0;\n                            yPos = -_pos.bottom;\n                        }\n\n                        if (_same.left) {\n                            css.left = 0;\n                            xPos = _pos.left;\n                        } else {\n                            css.right = 0;\n                            xPos = -_pos.right;\n                        }\n\n                        if (window.matchMedia) {\n                            // HubSpot/tether#207\n                            var retina = window.matchMedia('only screen and (min-resolution: 1.3dppx)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3)').matches;\n                            if (!retina) {\n                                xPos = Math.round(xPos);\n                                yPos = Math.round(yPos);\n                            }\n                        }\n\n                        css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n                        if (transformKey !== 'msTransform') {\n                            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n                            // but IE9 doesn't support 3d transforms and will choke.\n                            css[transformKey] += \" translateZ(0)\";\n                        }\n                    } else {\n                        if (_same.top) {\n                            css.top = _pos.top + 'px';\n                        } else {\n                            css.bottom = _pos.bottom + 'px';\n                        }\n\n                        if (_same.left) {\n                            css.left = _pos.left + 'px';\n                        } else {\n                            css.right = _pos.right + 'px';\n                        }\n                    }\n                };\n\n                var moved = false;\n                if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n                    css.position = 'absolute';\n                    transcribe(same.page, pos.page);\n                } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n                    css.position = 'fixed';\n                    transcribe(same.viewport, pos.viewport);\n                } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n                    (function() {\n                        css.position = 'absolute';\n                        var offsetParent = _this8.cache('target-offsetparent', function() {\n                            return getOffsetParent(_this8.target);\n                        });\n\n                        if (getOffsetParent(_this8.element) !== offsetParent) {\n                            defer(function() {\n                                _this8.element.parentNode.removeChild(_this8.element);\n                                offsetParent.appendChild(_this8.element);\n                            });\n                        }\n\n                        transcribe(same.offset, pos.offset);\n                        moved = true;\n                    })();\n                } else {\n                    css.position = 'absolute';\n                    transcribe({\n                        top: true,\n                        left: true\n                    }, pos.page);\n                }\n\n                if (!moved) {\n                    if (this.options.bodyElement) {\n                        if (this.element.parentNode !== this.options.bodyElement) {\n                            this.options.bodyElement.appendChild(this.element);\n                        }\n                    } else {\n                        var offsetParentIsBody = true;\n                        var currentNode = this.element.parentNode;\n                        while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY') {\n                            if (getComputedStyle(currentNode).position !== 'static') {\n                                offsetParentIsBody = false;\n                                break;\n                            }\n\n                            currentNode = currentNode.parentNode;\n                        }\n\n                        if (!offsetParentIsBody) {\n                            this.element.parentNode.removeChild(this.element);\n                            this.element.ownerDocument.body.appendChild(this.element);\n                        }\n                    }\n                }\n\n                // Any css change will trigger a repaint, so let's avoid one if nothing changed\n                var writeCSS = {};\n                var write = false;\n                for (var key in css) {\n                    var val = css[key];\n                    var elVal = this.element.style[key];\n\n                    if (elVal !== val) {\n                        write = true;\n                        writeCSS[key] = val;\n                    }\n                }\n\n                if (write) {\n                    defer(function() {\n                        extend(_this8.element.style, writeCSS);\n                        _this8.trigger('repositioned');\n                    });\n                }\n            }\n        }]);\n\n        return TetherClass;\n    })(Evented);\n\n    TetherClass.modules = [];\n\n    TetherBase.position = position;\n\n    var Tether = extend(TetherClass, TetherBase);\n    /* globals TetherBase */\n\n    'use strict';\n\n    var _slicedToArray = (function() {\n        function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n            try {\n                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                    _arr.push(_s.value);\n                    if (i && _arr.length === i) break;\n                }\n            } catch (err) {\n                _d = true;\n                _e = err;\n            } finally {\n                try {\n                    if (!_n && _i['return']) _i['return']();\n                } finally {\n                    if (_d) throw _e;\n                }\n            }\n            return _arr;\n        }\n        return function(arr, i) {\n            if (Array.isArray(arr)) {\n                return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n                return sliceIterator(arr, i);\n            } else {\n                throw new TypeError('Invalid attempt to destructure non-iterable instance');\n            }\n        };\n    })();\n\n    var _TetherBase$Utils = TetherBase.Utils;\n    var getBounds = _TetherBase$Utils.getBounds;\n    var extend = _TetherBase$Utils.extend;\n    var updateClasses = _TetherBase$Utils.updateClasses;\n    var defer = _TetherBase$Utils.defer;\n\n    var BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\n    function getBoundingRect(tether, to) {\n        if (to === 'scrollParent') {\n            to = tether.scrollParents[0];\n        } else if (to === 'window') {\n            to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n        }\n\n        if (to === document) {\n            to = to.documentElement;\n        }\n\n        if (typeof to.nodeType !== 'undefined') {\n            (function() {\n                var node = to;\n                var size = getBounds(to);\n                var pos = size;\n                var style = getComputedStyle(to);\n\n                to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n                // Account any parent Frames scroll offset\n                if (node.ownerDocument !== document) {\n                    var win = node.ownerDocument.defaultView;\n                    to[0] += win.pageXOffset;\n                    to[1] += win.pageYOffset;\n                    to[2] += win.pageXOffset;\n                    to[3] += win.pageYOffset;\n                }\n\n                BOUNDS_FORMAT.forEach(function(side, i) {\n                    side = side[0].toUpperCase() + side.substr(1);\n                    if (side === 'Top' || side === 'Left') {\n                        to[i] += parseFloat(style['border' + side + 'Width']);\n                    } else {\n                        to[i] -= parseFloat(style['border' + side + 'Width']);\n                    }\n                });\n            })();\n        }\n\n        return to;\n    }\n\n    TetherBase.modules.push({\n        position: function position(_ref) {\n            var _this = this;\n\n            var top = _ref.top;\n            var left = _ref.left;\n            var targetAttachment = _ref.targetAttachment;\n\n            if (!this.options.constraints) {\n                return true;\n            }\n\n            var _cache = this.cache('element-bounds', function() {\n                return getBounds(_this.element);\n            });\n\n            var height = _cache.height;\n            var width = _cache.width;\n\n            if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n                var _lastSize = this.lastSize;\n\n                // Handle the item getting hidden as a result of our positioning without glitching\n                // the classes in and out\n                width = _lastSize.width;\n                height = _lastSize.height;\n            }\n\n            var targetSize = this.cache('target-bounds', function() {\n                return _this.getTargetBounds();\n            });\n\n            var targetHeight = targetSize.height;\n            var targetWidth = targetSize.width;\n\n            var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n            this.options.constraints.forEach(function(constraint) {\n                var outOfBoundsClass = constraint.outOfBoundsClass;\n                var pinnedClass = constraint.pinnedClass;\n\n                if (outOfBoundsClass) {\n                    allClasses.push(outOfBoundsClass);\n                }\n                if (pinnedClass) {\n                    allClasses.push(pinnedClass);\n                }\n            });\n\n            allClasses.forEach(function(cls) {\n                ['left', 'top', 'right', 'bottom'].forEach(function(side) {\n                    allClasses.push(cls + '-' + side);\n                });\n            });\n\n            var addClasses = [];\n\n            var tAttachment = extend({}, targetAttachment);\n            var eAttachment = extend({}, this.attachment);\n\n            this.options.constraints.forEach(function(constraint) {\n                var to = constraint.to;\n                var attachment = constraint.attachment;\n                var pin = constraint.pin;\n\n                if (typeof attachment === 'undefined') {\n                    attachment = '';\n                }\n\n                var changeAttachX = undefined,\n                    changeAttachY = undefined;\n                if (attachment.indexOf(' ') >= 0) {\n                    var _attachment$split = attachment.split(' ');\n\n                    var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n                    changeAttachY = _attachment$split2[0];\n                    changeAttachX = _attachment$split2[1];\n                } else {\n                    changeAttachX = changeAttachY = attachment;\n                }\n\n                var bounds = getBoundingRect(_this, to);\n\n                if (changeAttachY === 'target' || changeAttachY === 'both') {\n                    if (top < bounds[1] && tAttachment.top === 'top') {\n                        top += targetHeight;\n                        tAttachment.top = 'bottom';\n                    }\n\n                    if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n                        top -= targetHeight;\n                        tAttachment.top = 'top';\n                    }\n                }\n\n                if (changeAttachY === 'together') {\n                    if (tAttachment.top === 'top') {\n                        if (eAttachment.top === 'bottom' && top < bounds[1]) {\n                            top += targetHeight;\n                            tAttachment.top = 'bottom';\n\n                            top += height;\n                            eAttachment.top = 'top';\n                        } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n                            top -= height - targetHeight;\n                            tAttachment.top = 'bottom';\n\n                            eAttachment.top = 'bottom';\n                        }\n                    }\n\n                    if (tAttachment.top === 'bottom') {\n                        if (eAttachment.top === 'top' && top + height > bounds[3]) {\n                            top -= targetHeight;\n                            tAttachment.top = 'top';\n\n                            top -= height;\n                            eAttachment.top = 'bottom';\n                        } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n                            top += height - targetHeight;\n                            tAttachment.top = 'top';\n\n                            eAttachment.top = 'top';\n                        }\n                    }\n\n                    if (tAttachment.top === 'middle') {\n                        if (top + height > bounds[3] && eAttachment.top === 'top') {\n                            top -= height;\n                            eAttachment.top = 'bottom';\n                        } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n                            top += height;\n                            eAttachment.top = 'top';\n                        }\n                    }\n                }\n\n                if (changeAttachX === 'target' || changeAttachX === 'both') {\n                    if (left < bounds[0] && tAttachment.left === 'left') {\n                        left += targetWidth;\n                        tAttachment.left = 'right';\n                    }\n\n                    if (left + width > bounds[2] && tAttachment.left === 'right') {\n                        left -= targetWidth;\n                        tAttachment.left = 'left';\n                    }\n                }\n\n                if (changeAttachX === 'together') {\n                    if (left < bounds[0] && tAttachment.left === 'left') {\n                        if (eAttachment.left === 'right') {\n                            left += targetWidth;\n                            tAttachment.left = 'right';\n\n                            left += width;\n                            eAttachment.left = 'left';\n                        } else if (eAttachment.left === 'left') {\n                            left += targetWidth;\n                            tAttachment.left = 'right';\n\n                            left -= width;\n                            eAttachment.left = 'right';\n                        }\n                    } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n                        if (eAttachment.left === 'left') {\n                            left -= targetWidth;\n                            tAttachment.left = 'left';\n\n                            left -= width;\n                            eAttachment.left = 'right';\n                        } else if (eAttachment.left === 'right') {\n                            left -= targetWidth;\n                            tAttachment.left = 'left';\n\n                            left += width;\n                            eAttachment.left = 'left';\n                        }\n                    } else if (tAttachment.left === 'center') {\n                        if (left + width > bounds[2] && eAttachment.left === 'left') {\n                            left -= width;\n                            eAttachment.left = 'right';\n                        } else if (left < bounds[0] && eAttachment.left === 'right') {\n                            left += width;\n                            eAttachment.left = 'left';\n                        }\n                    }\n                }\n\n                if (changeAttachY === 'element' || changeAttachY === 'both') {\n                    if (top < bounds[1] && eAttachment.top === 'bottom') {\n                        top += height;\n                        eAttachment.top = 'top';\n                    }\n\n                    if (top + height > bounds[3] && eAttachment.top === 'top') {\n                        top -= height;\n                        eAttachment.top = 'bottom';\n                    }\n                }\n\n                if (changeAttachX === 'element' || changeAttachX === 'both') {\n                    if (left < bounds[0]) {\n                        if (eAttachment.left === 'right') {\n                            left += width;\n                            eAttachment.left = 'left';\n                        } else if (eAttachment.left === 'center') {\n                            left += width / 2;\n                            eAttachment.left = 'left';\n                        }\n                    }\n\n                    if (left + width > bounds[2]) {\n                        if (eAttachment.left === 'left') {\n                            left -= width;\n                            eAttachment.left = 'right';\n                        } else if (eAttachment.left === 'center') {\n                            left -= width / 2;\n                            eAttachment.left = 'right';\n                        }\n                    }\n                }\n\n                if (typeof pin === 'string') {\n                    pin = pin.split(',').map(function(p) {\n                        return p.trim();\n                    });\n                } else if (pin === true) {\n                    pin = ['top', 'left', 'right', 'bottom'];\n                }\n\n                pin = pin || [];\n\n                var pinned = [];\n                var oob = [];\n\n                if (top < bounds[1]) {\n                    if (pin.indexOf('top') >= 0) {\n                        top = bounds[1];\n                        pinned.push('top');\n                    } else {\n                        oob.push('top');\n                    }\n                }\n\n                if (top + height > bounds[3]) {\n                    if (pin.indexOf('bottom') >= 0) {\n                        top = bounds[3] - height;\n                        pinned.push('bottom');\n                    } else {\n                        oob.push('bottom');\n                    }\n                }\n\n                if (left < bounds[0]) {\n                    if (pin.indexOf('left') >= 0) {\n                        left = bounds[0];\n                        pinned.push('left');\n                    } else {\n                        oob.push('left');\n                    }\n                }\n\n                if (left + width > bounds[2]) {\n                    if (pin.indexOf('right') >= 0) {\n                        left = bounds[2] - width;\n                        pinned.push('right');\n                    } else {\n                        oob.push('right');\n                    }\n                }\n\n                if (pinned.length) {\n                    (function() {\n                        var pinnedClass = undefined;\n                        if (typeof _this.options.pinnedClass !== 'undefined') {\n                            pinnedClass = _this.options.pinnedClass;\n                        } else {\n                            pinnedClass = _this.getClass('pinned');\n                        }\n\n                        addClasses.push(pinnedClass);\n                        pinned.forEach(function(side) {\n                            addClasses.push(pinnedClass + '-' + side);\n                        });\n                    })();\n                }\n\n                if (oob.length) {\n                    (function() {\n                        var oobClass = undefined;\n                        if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n                            oobClass = _this.options.outOfBoundsClass;\n                        } else {\n                            oobClass = _this.getClass('out-of-bounds');\n                        }\n\n                        addClasses.push(oobClass);\n                        oob.forEach(function(side) {\n                            addClasses.push(oobClass + '-' + side);\n                        });\n                    })();\n                }\n\n                if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n                    eAttachment.left = tAttachment.left = false;\n                }\n                if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n                    eAttachment.top = tAttachment.top = false;\n                }\n\n                if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n                    _this.updateAttachClasses(eAttachment, tAttachment);\n                    _this.trigger('update', {\n                        attachment: eAttachment,\n                        targetAttachment: tAttachment\n                    });\n                }\n            });\n\n            defer(function() {\n                if (!(_this.options.addTargetClasses === false)) {\n                    updateClasses(_this.target, addClasses, allClasses);\n                }\n                updateClasses(_this.element, addClasses, allClasses);\n            });\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n    /* globals TetherBase */\n\n    'use strict';\n\n    var _TetherBase$Utils = TetherBase.Utils;\n    var getBounds = _TetherBase$Utils.getBounds;\n    var updateClasses = _TetherBase$Utils.updateClasses;\n    var defer = _TetherBase$Utils.defer;\n\n    TetherBase.modules.push({\n        position: function position(_ref) {\n            var _this = this;\n\n            var top = _ref.top;\n            var left = _ref.left;\n\n            var _cache = this.cache('element-bounds', function() {\n                return getBounds(_this.element);\n            });\n\n            var height = _cache.height;\n            var width = _cache.width;\n\n            var targetPos = this.getTargetBounds();\n\n            var bottom = top + height;\n            var right = left + width;\n\n            var abutted = [];\n            if (top <= targetPos.bottom && bottom >= targetPos.top) {\n                ['left', 'right'].forEach(function(side) {\n                    var targetPosSide = targetPos[side];\n                    if (targetPosSide === left || targetPosSide === right) {\n                        abutted.push(side);\n                    }\n                });\n            }\n\n            if (left <= targetPos.right && right >= targetPos.left) {\n                ['top', 'bottom'].forEach(function(side) {\n                    var targetPosSide = targetPos[side];\n                    if (targetPosSide === top || targetPosSide === bottom) {\n                        abutted.push(side);\n                    }\n                });\n            }\n\n            var allClasses = [];\n            var addClasses = [];\n\n            var sides = ['left', 'top', 'right', 'bottom'];\n            allClasses.push(this.getClass('abutted'));\n            sides.forEach(function(side) {\n                allClasses.push(_this.getClass('abutted') + '-' + side);\n            });\n\n            if (abutted.length) {\n                addClasses.push(this.getClass('abutted'));\n            }\n\n            abutted.forEach(function(side) {\n                addClasses.push(_this.getClass('abutted') + '-' + side);\n            });\n\n            defer(function() {\n                if (!(_this.options.addTargetClasses === false)) {\n                    updateClasses(_this.target, addClasses, allClasses);\n                }\n                updateClasses(_this.element, addClasses, allClasses);\n            });\n\n            return true;\n        }\n    });\n    /* globals TetherBase */\n\n    'use strict';\n\n    var _slicedToArray = (function() {\n        function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n            try {\n                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                    _arr.push(_s.value);\n                    if (i && _arr.length === i) break;\n                }\n            } catch (err) {\n                _d = true;\n                _e = err;\n            } finally {\n                try {\n                    if (!_n && _i['return']) _i['return']();\n                } finally {\n                    if (_d) throw _e;\n                }\n            }\n            return _arr;\n        }\n        return function(arr, i) {\n            if (Array.isArray(arr)) {\n                return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n                return sliceIterator(arr, i);\n            } else {\n                throw new TypeError('Invalid attempt to destructure non-iterable instance');\n            }\n        };\n    })();\n\n    TetherBase.modules.push({\n        position: function position(_ref) {\n            var top = _ref.top;\n            var left = _ref.left;\n\n            if (!this.options.shift) {\n                return;\n            }\n\n            var shift = this.options.shift;\n            if (typeof this.options.shift === 'function') {\n                shift = this.options.shift.call(this, {\n                    top: top,\n                    left: left\n                });\n            }\n\n            var shiftTop = undefined,\n                shiftLeft = undefined;\n            if (typeof shift === 'string') {\n                shift = shift.split(' ');\n                shift[1] = shift[1] || shift[0];\n\n                var _shift = shift;\n\n                var _shift2 = _slicedToArray(_shift, 2);\n\n                shiftTop = _shift2[0];\n                shiftLeft = _shift2[1];\n\n                shiftTop = parseFloat(shiftTop, 10);\n                shiftLeft = parseFloat(shiftLeft, 10);\n            } else {\n                shiftTop = shift.top;\n                shiftLeft = shift.left;\n            }\n\n            top += shiftTop;\n            left += shiftLeft;\n\n            return {\n                top: top,\n                left: left\n            };\n        }\n    });\n    return Tether;\n\n}));"],"file":"tether.min.js"}
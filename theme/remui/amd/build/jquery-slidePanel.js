/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */

!function(global,factory){if("function"==typeof define&&define.amd)define(["jquery"],factory);else if("undefined"!=typeof exports)factory(require("jquery"));else{var mod={exports:{}};factory(global.jQuery),global.jquerySlidePanelEs=mod.exports}}(this,function(_jquery){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function convertMatrixToArray(value){return!(!value||"matrix"!==value.substr(0,6))&&value.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function getHashCode(object){"string"!=typeof object&&(object=JSON.stringify(object));var hash=0,i=void 0,len=void 0;if(0===object.length)return hash;for(i=0,len=object.length;i<len;i++)hash=(hash<<5)-hash+object.charCodeAt(i),hash|=0;return hash}function getTime(){return void 0!==window.performance&&window.performance.now?window.performance.now():Date.now()}function isPercentage(n){return"string"==typeof n&&-1!==n.indexOf("%")}function isPx(n){return"string"==typeof n&&-1!==n.indexOf("px")}function easingBezier(mX1,mY1,mX2,mY2){function a(aA1,aA2){return 1-3*aA2+3*aA1}function b(aA1,aA2){return 3*aA2-6*aA1}function c(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((a(aA1,aA2)*aT+b(aA1,aA2))*aT+c(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*a(aA1,aA2)*aT*aT+2*b(aA1,aA2)*aT+c(aA1)}function getTForX(aX){for(var aGuessT=aX,i=0;i<4;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(0===currentSlope)return aGuessT;aGuessT-=(calcBezier(aGuessT,mX1,mX2)-aX)/currentSlope}return aGuessT}return mX1===mY1&&mX2===mY2?{css:"linear",fn:function(aX){return aX}}:{css:"cubic-bezier("+mX1+","+mY1+","+mX2+","+mY2+")",fn:function(aX){return calcBezier(getTForX(aX),mY1,mY2)}}}var _jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),info={version:"0.3.4"},DEFAULTS={skin:null,classes:{base:"slidePanel",show:"slidePanel-show",loading:"slidePanel-loading",content:"slidePanel-content",dragging:"slidePanel-dragging",willClose:"slidePanel-will-close"},closeSelector:null,template:function(options){return'<div class="'+options.classes.base+" "+options.classes.base+"-"+options.direction+'"><div class="'+options.classes.content+'"></div></div>'},loading:{appendTo:"panel",template:function(options){return'<div class="'+options.classes.loading+'"></div>'},showCallback:function(options){this.$el.addClass(options.classes.loading+"-show")},hideCallback:function(options){this.$el.removeClass(options.classes.loading+"-show")}},contentFilter:function(content,object){return content},useCssTransforms3d:!0,useCssTransforms:!0,useCssTransitions:!0,dragTolerance:150,mouseDragHandler:null,mouseDrag:!0,touchDrag:!0,pointerDrag:!0,direction:"right",duration:"500",easing:"ease",beforeLoad:_jquery.noop,afterLoad:_jquery.noop,beforeShow:_jquery.noop,afterShow:_jquery.noop,onChange:_jquery.noop,beforeHide:_jquery.noop,afterHide:_jquery.noop,beforeDrag:_jquery.noop,afterDrag:_jquery.noop},Instance=function(){function Instance(object){_classCallCheck(this,Instance);for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.initialize.apply(this,[object].concat(args))}return _createClass(Instance,[{key:"initialize",value:function(object){var options=(arguments.length<=1?void 0:arguments[1])||{};if("string"==typeof object)object={url:object};else if(object&&1===object.nodeType){var $element=(0,_jquery2.default)(object);object={url:$element.attr("href"),settings:$element.data("settings")||{},options:$element.data()||{}}}return object&&object.options?object.options=_jquery2.default.extend(!0,options,object.options):object.options=options,object.options=_jquery2.default.extend(!0,{},DEFAULTS,object.options),_jquery2.default.extend(this,object),this}}]),Instance}(),Support={};!function(support){var events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},prefixes=["webkit","Moz","O","ms"],style=(0,_jquery2.default)("<support>").get(0).style,tests={csstransforms:function(){return Boolean(test("transform"))},csstransforms3d:function(){return Boolean(test("perspective"))},csstransitions:function(){return Boolean(test("transition"))},cssanimations:function(){return Boolean(test("animation"))}},test=function(property,prefixed){var result=!1,upper=property.charAt(0).toUpperCase()+property.slice(1);return void 0!==style[property]&&(result=property),result||_jquery2.default.each(prefixes,function(i,prefix){return void 0===style[prefix+upper]||(result="-"+prefix.toLowerCase()+"-"+upper,!1)}),prefixed?result:!!result},prefixed=function(property){return test(property,!0)};tests.csstransitions()&&(support.transition=new String(prefixed("transition")),support.transition.end=events.transition.end[support.transition]),tests.cssanimations()&&(support.animation=new String(prefixed("animation")),support.animation.end=events.animation.end[support.animation]),tests.csstransforms()&&(support.transform=new String(prefixed("transform")),support.transform3d=tests.csstransforms3d()),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?support.touch=!0:support.touch=!1,window.PointerEvent||window.MSPointerEvent?support.pointer=!0:support.pointer=!1,support.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?"MSPointer"+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent}}(Support);var Easings={ease:easingBezier(.25,.1,.25,1),linear:easingBezier(0,0,1,1),"ease-in":easingBezier(.42,0,1,1),"ease-out":easingBezier(0,0,.58,1),"ease-in-out":easingBezier(.42,0,.58,1)},Animate={prepareTransition:function($el,property,duration,easing,delay){var temp=[];property&&temp.push(property),duration&&(_jquery2.default.isNumeric(duration)&&(duration+="ms"),temp.push(duration)),easing?temp.push(easing):temp.push(this.easing.css),delay&&temp.push(delay),$el.css(Support.transition,temp.join(" "))},do:function(view,value,callback){SlidePanel.enter("animating");var duration=view.options.duration,easing=view.options.easing||"ease",that=this,style=view.makePositionStyle(value),property=null;for(property in style)if({}.hasOwnProperty.call(style,property))break;if(view.options.useCssTransitions&&Support.transition)setTimeout(function(){that.prepareTransition(view.$panel,property,duration,easing)},20),view.$panel.one(Support.transition.end,function(){_jquery2.default.isFunction(callback)&&callback(),view.$panel.css(Support.transition,""),SlidePanel.leave("animating")}),setTimeout(function(){view.setPosition(value)},20);else{var startTime=getTime(),start=view.getPosition(),end=value;that._frameId=window.requestAnimationFrame(function run(time){var percent=(time-startTime)/view.options.duration;percent>1&&(percent=1),percent=Easings[easing].fn(percent);var current=parseFloat(start+percent*(end-start),10);view.setPosition(current),1===percent?(window.cancelAnimationFrame(that._frameId),that._frameId=null,_jquery2.default.isFunction(callback)&&callback(),SlidePanel.leave("animating")):that._frameId=window.requestAnimationFrame(run)})}}},Loading=function(){function Loading(view){_classCallCheck(this,Loading),this.initialize(view)}return _createClass(Loading,[{key:"initialize",value:function(view){this._view=view,this.build()}},{key:"build",value:function(){if(!this._builded){var options=this._view.options,html=options.loading.template.call(this,options);switch(this.$el=(0,_jquery2.default)(html),options.loading.appendTo){case"panel":this.$el.appendTo(this._view.$panel);break;case"body":this.$el.appendTo("body");break;default:this.$el.appendTo(options.loading.appendTo)}this._builded=!0}}},{key:"show",value:function(callback){this.build();var options=this._view.options;options.loading.showCallback.call(this,options),_jquery2.default.isFunction(callback)&&callback.call(this)}},{key:"hide",value:function(callback){var options=this._view.options;options.loading.hideCallback.call(this,options),_jquery2.default.isFunction(callback)&&callback.call(this)}}]),Loading}(),Drag=function(){function Drag(){_classCallCheck(this,Drag),this.initialize.apply(this,arguments)}return _createClass(Drag,[{key:"initialize",value:function(view){this._view=view,this.options=view.options,this._drag={time:null,pointer:null},this.bindEvents()}},{key:"bindEvents",value:function(){var $panel=this._view.$panel,options=this.options;options.mouseDrag&&($panel.on(SlidePanel.eventName("mousedown"),_jquery2.default.proxy(this.onDragStart,this)),$panel.on(SlidePanel.eventName("dragstart selectstart"),function(event){if(!options.mouseDragHandler||(0,_jquery2.default)(event.target).is(options.mouseDragHandler)||(0,_jquery2.default)(event.target).parents(options.mouseDragHandler).length>0)return!1})),options.touchDrag&&Support.touch&&($panel.on(SlidePanel.eventName("touchstart"),_jquery2.default.proxy(this.onDragStart,this)),$panel.on(SlidePanel.eventName("touchcancel"),_jquery2.default.proxy(this.onDragEnd,this))),options.pointerDrag&&Support.pointer&&($panel.on(SlidePanel.eventName(Support.prefixPointerEvent("pointerdown")),_jquery2.default.proxy(this.onDragStart,this)),$panel.on(SlidePanel.eventName(Support.prefixPointerEvent("pointercancel")),_jquery2.default.proxy(this.onDragEnd,this)))}},{key:"onDragStart",value:function(event){var that=this;if(3!==event.which){var options=this.options;this._view.$panel.addClass(this.options.classes.dragging),this._position=this._view.getPosition(!0),this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(event);var callback=function(){SlidePanel.enter("dragging"),SlidePanel.trigger(that._view,"beforeDrag")};if(options.mouseDrag){if(options.mouseDragHandler&&!((0,_jquery2.default)(event.target).is(options.mouseDragHandler)||(0,_jquery2.default)(event.target).parents(options.mouseDragHandler).length>0))return;(0,_jquery2.default)(document).on(SlidePanel.eventName("mouseup"),_jquery2.default.proxy(this.onDragEnd,this)),(0,_jquery2.default)(document).one(SlidePanel.eventName("mousemove"),_jquery2.default.proxy(function(){(0,_jquery2.default)(document).on(SlidePanel.eventName("mousemove"),_jquery2.default.proxy(this.onDragMove,this)),callback()},this))}options.touchDrag&&Support.touch&&((0,_jquery2.default)(document).on(SlidePanel.eventName("touchend"),_jquery2.default.proxy(this.onDragEnd,this)),(0,_jquery2.default)(document).one(SlidePanel.eventName("touchmove"),_jquery2.default.proxy(function(){(0,_jquery2.default)(document).on(SlidePanel.eventName("touchmove"),_jquery2.default.proxy(this.onDragMove,this)),callback()},this))),options.pointerDrag&&Support.pointer&&((0,_jquery2.default)(document).on(SlidePanel.eventName(Support.prefixPointerEvent("pointerup")),_jquery2.default.proxy(this.onDragEnd,this)),(0,_jquery2.default)(document).one(SlidePanel.eventName(Support.prefixPointerEvent("pointermove")),_jquery2.default.proxy(function(){(0,_jquery2.default)(document).on(SlidePanel.eventName(Support.prefixPointerEvent("pointermove")),_jquery2.default.proxy(this.onDragMove,this)),callback()},this))),(0,_jquery2.default)(document).on(SlidePanel.eventName("blur"),_jquery2.default.proxy(this.onDragEnd,this)),event.preventDefault()}}},{key:"onDragMove",value:function(event){var distance=this.distance(this._drag.pointer,this.pointer(event));SlidePanel.is("dragging")&&(Math.abs(distance)>this.options.dragTolerance?!0!==this._willClose&&(this._willClose=!0,this._view.$panel.addClass(this.options.classes.willClose)):!1!==this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),SlidePanel.is("dragging")&&(event.preventDefault(),this.move(distance)))}},{key:"onDragEnd",value:function(event){var distance=this.distance(this._drag.pointer,this.pointer(event));(0,_jquery2.default)(document).off(SlidePanel.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")),this._view.$panel.removeClass(this.options.classes.dragging),!0===this._willClose&&(this._willClose=!1,this._view.$panel.removeClass(this.options.classes.willClose)),SlidePanel.is("dragging")&&(SlidePanel.leave("dragging"),SlidePanel.trigger(this._view,"afterDrag"),Math.abs(distance)<this.options.dragTolerance?this._view.revert():this._view.hide())}},{key:"pointer",value:function(event){var result={x:null,y:null};return event=event.originalEvent||event||window.event,(event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event).pageX?(result.x=event.pageX,result.y=event.pageY):(result.x=event.clientX,result.y=event.clientY),result}},{key:"distance",value:function(first,second){var d=this.options.direction;return"left"===d||"right"===d?second.x-first.x:second.y-first.y}},{key:"move",value:function(value){var position=this._position+value;if("right"===this.options.direction||"bottom"===this.options.direction){if(position<0)return}else if(position>0)return;this.options.useCssTransforms||this.options.useCssTransforms3d||"right"!==this.options.direction&&"bottom"!==this.options.direction||(position=-position),this._view.setPosition(position+"px")}}]),Drag}(),View=function(){function View(options){_classCallCheck(this,View),this.initialize(options)}return _createClass(View,[{key:"initialize",value:function(options){this.options=options,this._instance=null,this._showed=!1,this._isLoading=!1,this.build()}},{key:"setLength",value:function(){switch(this.options.direction){case"top":case"bottom":this._length=this.$panel.outerHeight();break;case"left":case"right":this._length=this.$panel.outerWidth()}}},{key:"build",value:function(){if(!this._builded){var options=this.options,html=options.template.call(this,options),that=this;this.$panel=(0,_jquery2.default)(html).appendTo("body"),options.skin&&this.$panel.addClass(options.skin),this.$content=this.$panel.find("."+this.options.classes.content),options.closeSelector&&this.$panel.on("click touchstart",options.closeSelector,function(){return that.hide(),!1}),this.loading=new Loading(this),this.setLength(),this.setPosition(this.getHidePosition()),(options.mouseDrag||options.touchDrag||options.pointerDrag)&&(this.drag=new Drag(this)),this._builded=!0}}},{key:"getHidePosition",value:function(){var options=this.options;if(options.useCssTransforms||options.useCssTransforms3d)switch(options.direction){case"top":case"left":return"-100";case"bottom":case"right":return"100"}switch(options.direction){case"top":case"bottom":return parseFloat(-this._length/(0,_jquery2.default)(window).height()*100,10);case"left":case"right":return parseFloat(-this._length/(0,_jquery2.default)(window).width()*100,10)}}},{key:"empty",value:function(){this._instance=null,this.$content.empty()}},{key:"load",value:function(object){function setContent(content){content=options.contentFilter.call(this,content,object),that.$content.html(content),that.hideLoading(),that._instance=object,SlidePanel.trigger(that,"afterLoad",object)}var that=this,options=object.options;SlidePanel.trigger(this,"beforeLoad",object),this.empty(),object.content?setContent(object.content):object.url?(this.showLoading(),_jquery2.default.ajax(object.url,object.settings||{}).done(function(data){setContent(data)})):setContent("")}},{key:"showLoading",value:function(){var that=this;this.loading.show(function(){that._isLoading=!0})}},{key:"hideLoading",value:function(){var that=this;this.loading.hide(function(){that._isLoading=!1})}},{key:"show",value:function(callback){this.build(),SlidePanel.enter("show"),SlidePanel.trigger(this,"beforeShow"),(0,_jquery2.default)("html").addClass(this.options.classes.base+"-html"),this.$panel.addClass(this.options.classes.show);var that=this;Animate.do(this,0,function(){that._showed=!0,SlidePanel.trigger(that,"afterShow"),_jquery2.default.isFunction(callback)&&callback.call(that)})}},{key:"change",value:function(object){SlidePanel.trigger(this,"beforeShow"),SlidePanel.trigger(this,"onChange",object,this._instance),this.load(object),SlidePanel.trigger(this,"afterShow")}},{key:"revert",value:function(callback){var that=this;Animate.do(this,0,function(){_jquery2.default.isFunction(callback)&&callback.call(that)})}},{key:"hide",value:function(callback){SlidePanel.leave("show"),SlidePanel.trigger(this,"beforeHide");var that=this;Animate.do(this,this.getHidePosition(),function(){that.$panel.removeClass(that.options.classes.show),that._showed=!1,that._instance=null,SlidePanel._current===that&&(SlidePanel._current=null),SlidePanel.is("show")||(0,_jquery2.default)("html").removeClass(that.options.classes.base+"-html"),_jquery2.default.isFunction(callback)&&callback.call(that),SlidePanel.trigger(that,"afterHide")})}},{key:"makePositionStyle",value:function(value){var property=void 0,x="0",y="0";isPercentage(value)||isPx(value)||(value+="%"),this.options.useCssTransforms&&Support.transform?("left"===this.options.direction||"right"===this.options.direction?x=value:y=value,property=Support.transform.toString(),value=this.options.useCssTransforms3d&&Support.transform3d?"translate3d("+x+","+y+",0)":"translate("+x+","+y+")"):property=this.options.direction;var temp={};return temp[property]=value,temp}},{key:"getPosition",value:function(px){var value=void 0;if(this.options.useCssTransforms&&Support.transform){if(!(value=convertMatrixToArray(this.$panel.css(Support.transform))))return 0;value="left"===this.options.direction||"right"===this.options.direction?value[12]||value[4]:value[13]||value[5]}else value=this.$panel.css(this.options.direction),value=parseFloat(value.replace("px",""));return!0!==px&&(value=value/this._length*100),parseFloat(value,10)}},{key:"setPosition",value:function(value){var style=this.makePositionStyle(value);this.$panel.css(style)}}]),View}(),SlidePanel={_states:{},_views:{},_current:null,is:function(state){return this._states[state]&&this._states[state]>0},enter:function(state){void 0===this._states[state]&&(this._states[state]=0),this._states[state]++},leave:function(state){this._states[state]--},trigger:function(view,event){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];var data=[view].concat(args);(0,_jquery2.default)(document).trigger("slidePanel::"+event,data),_jquery2.default.isFunction(view.options[event])&&view.options[event].apply(view,args)},eventName:function(events){if("string"!=typeof events||""===events)return".slidepanel";for(var length=(events=events.split(" ")).length,i=0;i<length;i++)events[i]=events[i]+".slidepanel";return events.join(" ")},show:function(object,options){var _this=this;if(!(object instanceof Instance))switch(arguments.length){case 0:object=new Instance;break;case 1:object=new Instance(object);break;case 2:object=new Instance(object,options)}var view=this.getView(object.options),callback=function(){view.show(),view.load(object),_this._current=view};null!==this._current?view===this._current?this._current.change(object):this._current.hide(callback):callback()},getView:function(options){var code=getHashCode(options);return this._views.hasOwnProperty(code)?this._views[code]:this._views[code]=new View(options)},hide:function(object){void 0!==object&&void 0!==object.options?this.getView(object.options).hide():null!==this._current&&this._current.hide()}},api={is:function(state){return SlidePanel.is(state)},show:function(object,options){return SlidePanel.show(object,options),this},hide:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return SlidePanel.hide(args),this}};Date.now||(Date.now=function(){return(new Date).getTime()});for(var vendors=["webkit","moz"],i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS (6|7|8)/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=getTime(),nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)},window.cancelAnimationFrame=clearTimeout}var OtherSlidePanel=_jquery2.default.fn.slidePanel,jQuerySlidePanel=function(options){for(var _len4=arguments.length,args=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)args[_key4-1]=arguments[_key4];var method=options;return"string"==typeof options?this.each(function(){var instance=_jquery2.default.data(this,"slidePanel");switch(instance instanceof Instance||(instance=new Instance(this,args),_jquery2.default.data(this,"slidePanel",instance)),method){case"hide":SlidePanel.hide(instance);break;case"show":SlidePanel.show(instance)}}):this.each(function(){_jquery2.default.data(this,"slidePanel")||(_jquery2.default.data(this,"slidePanel",new Instance(this,options)),(0,_jquery2.default)(this).on("click",function(e){var instance=_jquery2.default.data(this,"slidePanel");SlidePanel.show(instance),e.preventDefault(),e.stopPropagation()}))})};_jquery2.default.fn.slidePanel=jQuerySlidePanel,_jquery2.default.slidePanel=function(){SlidePanel.show.apply(SlidePanel,arguments)},_jquery2.default.extend(_jquery2.default.slidePanel,{setDefaults:function(options){_jquery2.default.extend(!0,DEFAULTS,_jquery2.default.isPlainObject(options)&&options)},noConflict:function(){return _jquery2.default.fn.slidePanel=OtherSlidePanel,jQuerySlidePanel}},info,api)});
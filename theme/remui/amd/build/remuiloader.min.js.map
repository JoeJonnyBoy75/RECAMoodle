{"version":3,"file":"remuiloader.min.js","sources":["../src/remuiloader.js"],"sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable jsdoc/require-jsdoc*/\n/* eslint-disable jsdoc/require-jsdoc*/\n/* eslint-disable jsdoc/require-jsdoc*/\ndefine(['jquery'], function ($) {\n\n    const registerCommonEvents = () => {\n        // Prevent messaging bar toggle when merged in sidebar.\n        $('.drawer-right .nav-item .nav-link[href=\"#sidebar-message\"]').click(function () {\n            $('[data-region=\"right-hand-drawer\"]').removeClass('hidden');\n        });\n\n        // Profile page Main Content message button working made for merged messaging drawer.\n        $(\".mergemessagingsidebar #message-user-button\").click(function () {\n            $(\".drawers:not(.show-drawer-right) .drawer-toggler.drawer-right-toggle .btn\").click();\n            $(\"#merged-messaging-tab .nav-link\").tab(\"show\");\n            $('[data-region=\"right-hand-drawer\"]').removeClass('hidden');\n        });\n\n        // Save the preference, after dismiss the announcement\n        $('.site-announcement #dismiss_announcement').click(function () {\n            $('body').removeClass(\"remui-notification\");\n            M.util.set_user_preference('remui_dismised_announcement', true);\n        });\n\n        // Scroll to top.\n        $(\"#gotop\").click(function () {\n            $('html, body').animate({ scrollTop: 0 }, $(window).scrollTop() / 6);\n            return false;\n        });\n\n        // Hide and Show Go to top button.\n        $(window).scroll(function () {\n            if ($(this).scrollTop() > 300) {\n                $('#gotop').removeClass(\"d-none\").addClass(\"d-flex\");\n            } else {\n                $('#gotop').removeClass(\"d-flex\").addClass(\"d-none\");\n            }\n        });\n\n        // Make AddBlock modal full Width.\n        $('[data-key=\"addblock\"]').click(function () {\n            setTimeout(function () {\n                $('.modal[data-region=\"modal-container\"]').addClass(\"fullwidth-modal\");\n            }, 500);\n        });\n\n        /*Right Drawer close issue when mergemessaging is enabled. */\n        var drawercloser = '.drawertoggle[data-toggler=\"drawers\"]';\n        $(document).on(\"click\", drawercloser, function () {\n            // $(\".drawerheader .nav-tabs .nav-item:first-child\").click();\n            $(\"#block-tab\").click();\n        });\n\n\n        /* Show Categories dropdown closing issue*/\n        $(document).on('click', '.dropdown-accordian a[data-toggle=\"collapse\"]', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        });\n    };\n\n    /*\n     * Creating mini version of bootstrap-select for Dropdowns\n     * {String} dropdownselector class selector for dropdown\n     */\n    const generateDropdownSearch = (dropdownselector) => {\n\n        var _catmenus = $(dropdownselector + '+ .dropdown-menu');\n        var _searchfield = \".catsearch\";\n\n        var _inputfield = '<div class=\"catsearch-item p-2\" tabindex=\"-1\"><input type=\"text\" name=\"catsearch\" placeholder =\"' +M.util.get_string('searchcatplaceholdertext', 'theme_remui') + '\" class=\"w-100 form-control catsearch\"></div>';\n\n        _catmenus.prepend(_inputfield);\n        $(\".catsearch-item\").unbind();\n        $(\".catsearch-item .catsearch\").unbind();\n        /*\n         * Search Function in the dropdown items according to input field text.\n         */\n        function filterFunction() {\n            var input, filter, a, i;\n            input = $('.catselector-menu + .dropdown-menu').find(\".catsearch\");\n\n            filter = input.val().toUpperCase();\n\n            a = _catmenus.find(\"a\");\n            for (i = 0; i < a.length; i++) {\n                var _txtval = a[i].textContent || a[i].innerText;\n                _txtval = _txtval.split(\" \").join(\"\");\n                if (_txtval.toUpperCase().indexOf(filter) > -1) {\n                    a[i].style.display = \"\";\n                } else {\n                    a[i].style.display = \"none\";\n                }\n            }\n        }\n        _catmenus.find(_searchfield).on(\"keyup\", function (e) {\n            if (e.which == 32) {\n                return true;\n            }\n            filterFunction();\n        });\n\n    };\n\n    return {\n        init: function () {\n            registerCommonEvents();\n\n            // Enable Category Search filter in header.\n            if ($(\".catselector-menu\").length) {\n                generateDropdownSearch(\".catselector-menu\");\n            }\n\n        }\n    };\n});\n"],"names":["define","$","registerCommonEvents","click","removeClass","tab","M","util","set_user_preference","animate","scrollTop","window","scroll","this","addClass","setTimeout","document","on","e","preventDefault","stopPropagation","generateDropdownSearch","dropdownselector","_catmenus","_inputfield","get_string","prepend","unbind","find","which","filter","a","i","val","toUpperCase","length","_txtval","textContent","innerText","split","join","indexOf","style","display","filterFunction","init"],"mappings":"AAIAA,iCAAO,CAAC,WAAW,SAAUC,SAEnBC,qBAAuB,KAEzBD,EAAE,8DAA8DE,OAAM,WAClEF,EAAE,qCAAqCG,YAAY,aAIvDH,EAAE,+CAA+CE,OAAM,WACnDF,EAAE,6EAA6EE,QAC/EF,EAAE,mCAAmCI,IAAI,QACzCJ,EAAE,qCAAqCG,YAAY,aAIvDH,EAAE,4CAA4CE,OAAM,WAChDF,EAAE,QAAQG,YAAY,sBACtBE,EAAEC,KAAKC,oBAAoB,+BAA+B,MAI9DP,EAAE,UAAUE,OAAM,kBACdF,EAAE,cAAcQ,QAAQ,CAAEC,UAAW,GAAKT,EAAEU,QAAQD,YAAc,IAC3D,KAIXT,EAAEU,QAAQC,QAAO,WACTX,EAAEY,MAAMH,YAAc,IACtBT,EAAE,UAAUG,YAAY,UAAUU,SAAS,UAE3Cb,EAAE,UAAUG,YAAY,UAAUU,SAAS,aAKnDb,EAAE,yBAAyBE,OAAM,WAC7BY,YAAW,WACPd,EAAE,yCAAyCa,SAAS,qBACrD,QAKPb,EAAEe,UAAUC,GAAG,QADI,yCACmB,WAElChB,EAAE,cAAcE,WAKpBF,EAAEe,UAAUC,GAAG,QAAS,iDAAiD,SAAUC,GAC/EA,EAAEC,iBACFD,EAAEE,sBAQJC,uBAA0BC,uBAExBC,UAAYtB,EAAEqB,iBAAmB,oBAGjCE,YAAc,mGAAoGlB,EAAEC,KAAKkB,WAAW,2BAA4B,eAAiB,gDAErLF,UAAUG,QAAQF,aAClBvB,EAAE,mBAAmB0B,SACrB1B,EAAE,8BAA8B0B,SAqBhCJ,UAAUK,KA3BS,cA2BUX,GAAG,SAAS,SAAUC,MAChC,IAAXA,EAAEW,aACK,kBAlBAC,OAAQC,EAAGC,MAGtBF,OAFQ7B,EAAE,sCAAsC2B,KAAK,cAEtCK,MAAMC,cAErBH,EAAIR,UAAUK,KAAK,KACdI,EAAI,EAAGA,EAAID,EAAEI,OAAQH,IAAK,KACvBI,QAAUL,EAAEC,GAAGK,aAAeN,EAAEC,GAAGM,WACvCF,QAAUA,QAAQG,MAAM,KAAKC,KAAK,KACtBN,cAAcO,QAAQX,SAAW,EACzCC,EAAEC,GAAGU,MAAMC,QAAU,GAErBZ,EAAEC,GAAGU,MAAMC,QAAU,QAQ7BC,aAKD,CACHC,KAAM,WACF3C,uBAGID,EAAE,qBAAqBkC,QACvBd,uBAAuB"}
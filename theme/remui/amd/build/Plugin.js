define(["exports","jquery"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pluginFactory=e.getDefaults=e.getPlugin=e.getPluginAPI=e.Plugin=void 0;var t,o=(t=n)&&t.__esModule?t:{default:t};function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u={},l={},a=(function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}(r,[{key:"getName",value:function(){return"plugin"}},{key:"render",value:function(){if(!o.default.fn[this.name])return!1;this.$el[this.name](this.options)}},{key:"initialize",value:function(){if(this.isRendered)return!1;this.render(),this.isRendered=!0}}],[{key:"getDefaults",value:function(){return{}}},{key:"register",value:function(e,n){void 0!==n&&void 0!==(u[e]=n).api&&r.registerApi(e,n)}},{key:"registerApi",value:function(i,u){var e=u.api();if("string"==typeof e){var n=u.api().split("|"),t=n[0]+".plugin."+i,a=n[1]||"render",r=function(e){var n=(0,o.default)(this),t=n.data("pluginInstance");t||((t=new u(n,o.default.extend(!0,{},s(i),n.data()))).initialize(),n.data("pluginInstance",t)),t[a](e)};l[i]=function(e,n){n?((0,o.default)(n).off(t),(0,o.default)(n).on(t,e,r)):(0,o.default)(e).on(t,r)}}else"function"==typeof e&&(l[i]=e)}}]),r);function r(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.name=this.getName(),this.$el=e,this.options=n,this.isRendered=!1}function f(e){return void 0!==u[e]?u[e]:(console.warn("Plugin:"+e+" has no warpped class."),!1)}function s(e){var n=f(e);return n?n.getDefaults():{}}e.default=a,e.Plugin=a,e.getPluginAPI=function(e){return void 0===e?l:l[e]},e.getPlugin=f,e.getDefaults=s,e.pluginFactory=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=f(e);if(i&&void 0===i.api)return new i(n,o.default.extend(!0,{},s(e),t));if(o.default.fn[e]){var u=new a(n,t);return u.getName=function(){return e},u.name=e,u}return void 0!==i.api||console.warn("Plugin:"+e+" script is not loaded."),!1}});
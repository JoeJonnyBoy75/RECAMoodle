{"version":3,"file":"html2canvas.min.js","sources":["../src/html2canvas.js"],"sourcesContent":["/*\n  html2canvas 0.5.0-alpha1 <http://html2canvas.hertzen.com>\n  Copyright (c) 2015 Niklas von Hertzen\n\n  Released under MIT License\n*/\n\n(function(window, document, exports, global, define, undefined){\n\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.0.1\n */\n\n(function(){function r(a,b){n[l]=a;n[l+1]=b;l+=2;2===l&&A()}function s(a){return\"function\"===typeof a}function F(){return function(){process.nextTick(t)}}function G(){var a=0,b=new B(t),c=document.createTextNode(\"\");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function H(){var a=new MessageChannel;a.port1.onmessage=t;return function(){a.port2.postMessage(0)}}function I(){return function(){setTimeout(t,1)}}function t(){for(var a=0;a<l;a+=2)(0,n[a])(n[a+1]),n[a]=void 0,n[a+1]=void 0;\nl=0}function p(){}function J(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function K(a,b,c){r(function(a){var e=!1,f=J(c,b,function(c){e||(e=!0,b!==c?q(a,c):m(a,c))},function(b){e||(e=!0,g(a,b))});!e&&f&&(e=!0,g(a,f))},a)}function L(a,b){1===b.a?m(a,b.b):2===a.a?g(a,b.b):u(b,void 0,function(b){q(a,b)},function(b){g(a,b)})}function q(a,b){if(a===b)g(a,new TypeError(\"You cannot resolve a promise with itself\"));else if(\"function\"===typeof b||\"object\"===typeof b&&null!==b)if(b.constructor===a.constructor)L(a,\nb);else{var c;try{c=b.then}catch(d){v.error=d,c=v}c===v?g(a,v.error):void 0===c?m(a,b):s(c)?K(a,b,c):m(a,b)}else m(a,b)}function M(a){a.f&&a.f(a.b);x(a)}function m(a,b){void 0===a.a&&(a.b=b,a.a=1,0!==a.e.length&&r(x,a))}function g(a,b){void 0===a.a&&(a.a=2,a.b=b,r(M,a))}function u(a,b,c,d){var e=a.e,f=e.length;a.f=null;e[f]=b;e[f+1]=c;e[f+2]=d;0===f&&a.a&&r(x,a)}function x(a){var b=a.e,c=a.a;if(0!==b.length){for(var d,e,f=a.b,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a.e.length=0}}function D(){this.error=\nnull}function C(a,b,c,d){var e=s(c),f,k,h,l;if(e){try{f=c(d)}catch(n){y.error=n,f=y}f===y?(l=!0,k=f.error,f=null):h=!0;if(b===f){g(b,new TypeError(\"A promises callback cannot return that same promise.\"));return}}else f=d,h=!0;void 0===b.a&&(e&&h?q(b,f):l?g(b,k):1===a?m(b,f):2===a&&g(b,f))}function N(a,b){try{b(function(b){q(a,b)},function(b){g(a,b)})}catch(c){g(a,c)}}function k(a,b,c,d){this.n=a;this.c=new a(p,d);this.i=c;this.o(b)?(this.m=b,this.d=this.length=b.length,this.l(),0===this.length?m(this.c,\nthis.b):(this.length=this.length||0,this.k(),0===this.d&&m(this.c,this.b))):g(this.c,this.p())}function h(a){O++;this.b=this.a=void 0;this.e=[];if(p!==a){if(!s(a))throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\");if(!(this instanceof h))throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");N(this,a)}}var E=Array.isArray?Array.isArray:function(a){return\"[object Array]\"===\nObject.prototype.toString.call(a)},l=0,w=\"undefined\"!==typeof window?window:{},B=w.MutationObserver||w.WebKitMutationObserver,w=\"undefined\"!==typeof Uint8ClampedArray&&\"undefined\"!==typeof importScripts&&\"undefined\"!==typeof MessageChannel,n=Array(1E3),A;A=\"undefined\"!==typeof process&&\"[object process]\"==={}.toString.call(process)?F():B?G():w?H():I();var v=new D,y=new D;k.prototype.o=function(a){return E(a)};k.prototype.p=function(){return Error(\"Array Methods must be provided an Array\")};k.prototype.l=\nfunction(){this.b=Array(this.length)};k.prototype.k=function(){for(var a=this.length,b=this.c,c=this.m,d=0;void 0===b.a&&d<a;d++)this.j(c[d],d)};k.prototype.j=function(a,b){var c=this.n;\"object\"===typeof a&&null!==a?a.constructor===c&&void 0!==a.a?(a.f=null,this.g(a.a,b,a.b)):this.q(c.resolve(a),b):(this.d--,this.b[b]=this.h(a))};k.prototype.g=function(a,b,c){var d=this.c;void 0===d.a&&(this.d--,this.i&&2===a?g(d,c):this.b[b]=this.h(c));0===this.d&&m(d,this.b)};k.prototype.h=function(a){return a};\nk.prototype.q=function(a,b){var c=this;u(a,void 0,function(a){c.g(1,b,a)},function(a){c.g(2,b,a)})};var O=0;h.all=function(a,b){return(new k(this,a,!0,b)).c};h.race=function(a,b){function c(a){q(e,a)}function d(a){g(e,a)}var e=new this(p,b);if(!E(a))return (g(e,new TypeError(\"You must pass an array to race.\")), e);for(var f=a.length,h=0;void 0===e.a&&h<f;h++)u(this.resolve(a[h]),void 0,c,d);return e};h.resolve=function(a,b){if(a&&\"object\"===typeof a&&a.constructor===this)return a;var c=new this(p,b);\nq(c,a);return c};h.reject=function(a,b){var c=new this(p,b);g(c,a);return c};h.prototype={constructor:h,then:function(a,b){var c=this.a;if(1===c&&!a||2===c&&!b)return this;var d=new this.constructor(p),e=this.b;if(c){var f=arguments[c-1];r(function(){C(c,d,f,e)})}else u(this,d,a,b);return d},\"catch\":function(a){return this.then(null,a)}};var z={Promise:h,polyfill:function(){var a;a=\"undefined\"!==typeof global?global:\"undefined\"!==typeof window&&window.document?window:self;\"Promise\"in a&&\"resolve\"in\na.Promise&&\"reject\"in a.Promise&&\"all\"in a.Promise&&\"race\"in a.Promise&&function(){var b;new a.Promise(function(a){b=a});return s(b)}()||(a.Promise=h)}};\"function\"===typeof define&&define.amd?define(function(){return z}):\"undefined\"!==typeof module&&module.exports?module.exports=z:\"undefined\"!==typeof this&&(this.ES6Promise=z);}).call(window);\nif (window) {\n    window.ES6Promise.polyfill();\n}\n\n\nif (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") {\n    (window || module.exports).html2canvas = function() {\n        return Promise.reject(\"No canvas support\");\n    };\n    return;\n}\n\n/*! https://mths.be/punycode v1.3.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\tvar labels = string.split(regexSeparators);\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\nvar html2canvasCanvasCloneAttribute = \"data-html2canvas-canvas-clone\";\nvar html2canvasCanvasCloneIndex = 0;\nvar html2canvasCloneIndex = 0;\n\nwindow.html2canvas = function(nodeList, options) {\n    var index = html2canvasCloneIndex++;\n    options = options || {};\n    if (options.logging) {\n        window.html2canvas.logging = true;\n        window.html2canvas.start = Date.now();\n    }\n\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\n    options.strict = !!options.strict;\n\n    if (typeof(nodeList) === \"string\") {\n        if (typeof(options.proxy) !== \"string\") {\n            return Promise.reject(\"Proxy must be used when rendering url\");\n        }\n        var width = options.width != null ? options.width : window.innerWidth;\n        var height = options.height != null ? options.height : window.innerHeight;\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\n        });\n    }\n\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\n    node.setAttribute(html2canvasNodeAttribute + index, index);\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\n        if (typeof(options.onrendered) === \"function\") {\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\n            options.onrendered(canvas);\n        }\n        return canvas;\n    });\n};\n\nwindow.html2canvas.punycode = this.punycode;\nwindow.html2canvas.proxy = {};\n\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\n        log(\"Document cloned\");\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\n        document.querySelector(selector).removeAttribute(attributeName);\n        var clonedWindow = container.contentWindow;\n        var node = clonedWindow.document.querySelector(selector);\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\n        return oncloneHandler.then(function() {\n            return renderWindow(node, container, options, windowWidth, windowHeight);\n        });\n    });\n}\n\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\n    var clonedWindow = container.contentWindow;\n    var support = new Support(clonedWindow.document);\n    var imageLoader = new ImageLoader(options, support);\n    var bounds = getBounds(node);\n    var width = options.type === \"view\" ? windowWidth : documentWidth(clonedWindow.document);\n    var height = options.type === \"view\" ? windowHeight : documentHeight(clonedWindow.document);\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\n    return parser.ready.then(function() {\n        log(\"Finished rendering\");\n        var canvas;\n\n        if (options.type === \"view\") {\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\n            canvas = renderer.canvas;\n        } else {\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: clonedWindow.pageXOffset, y: clonedWindow.pageYOffset});\n        }\n\n        cleanupContainer(container, options);\n        return canvas;\n    });\n}\n\nfunction cleanupContainer(container, options) {\n    if (options.removeContainer) {\n        container.parentNode.removeChild(container);\n        log(\"Cleaned up container\");\n    }\n}\n\nfunction crop(canvas, bounds) {\n    var croppedCanvas = document.createElement(\"canvas\");\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\n    croppedCanvas.width = bounds.width;\n    croppedCanvas.height =  bounds.height;\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", (x2-x1), \"height:\", (y2-y1));\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \" with x\", x1, \"and y\", y1);\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, x2-x1, y2-y1, bounds.x, bounds.y, x2-x1, y2-y1);\n    return croppedCanvas;\n}\n\nfunction documentWidth (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\n    );\n}\n\nfunction documentHeight (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\n    );\n}\n\nfunction smallImage() {\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n}\n\nfunction isIE9() {\n    return document.documentMode && document.documentMode <= 9;\n}\n\n// https://github.com/niklasvh/html2canvas/issues/503\nfunction cloneNodeIE9(node, javascriptEnabled) {\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n\n    var child = node.firstChild;\n    while(child) {\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n            clone.appendChild(cloneNodeIE9(child, javascriptEnabled));\n        }\n        child = child.nextSibling;\n    }\n\n    return clone;\n}\n\nfunction createWindowClone(ownerDocument, containerDocument, width, height, options, x ,y) {\n    labelCanvasElements(ownerDocument);\n    var documentElement = isIE9() ? cloneNodeIE9(ownerDocument.documentElement, options.javascriptEnabled) : ownerDocument.documentElement.cloneNode(true);\n    var container = containerDocument.createElement(\"iframe\");\n\n    container.className = \"html2canvas-container\";\n    container.style.visibility = \"hidden\";\n    container.style.position = \"fixed\";\n    container.style.left = \"-10000px\";\n    container.style.top = \"0px\";\n    container.style.border = \"0\";\n    container.width = width;\n    container.height = height;\n    container.scrolling = \"no\"; // ios won't scroll without it\n    containerDocument.body.appendChild(container);\n\n    return new Promise(function(resolve) {\n        var documentClone = container.contentWindow.document;\n\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"textarea\");\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"select\");\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n        container.contentWindow.onload = container.onload = function() {\n            var interval = setInterval(function() {\n                if (documentClone.body.childNodes.length > 0) {\n                    cloneCanvasContents(ownerDocument, documentClone);\n                    clearInterval(interval);\n                    if (options.type === \"view\") {\n                        container.contentWindow.scrollTo(x, y);\n                    }\n                    resolve(container);\n                }\n            }, 50);\n        };\n\n        documentClone.open();\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(ownerDocument, x, y);\n        documentClone.replaceChild(options.javascriptEnabled === true ? documentClone.adoptNode(documentElement) : removeScriptNodes(documentClone.adoptNode(documentElement)), documentClone.documentElement);\n        documentClone.close();\n    });\n}\n\nfunction cloneNodeValues(document, clone, nodeName) {\n    var originalNodes = document.getElementsByTagName(nodeName);\n    var clonedNodes = clone.getElementsByTagName(nodeName);\n    var count = originalNodes.length;\n    for (var i = 0; i < count; i++) {\n        clonedNodes[i].value = originalNodes[i].value;\n    }\n}\n\nfunction restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n}\n\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\n        return createWindowClone(doc, document, width, height, options, 0, 0);\n    });\n}\n\nfunction documentFromHTML(src) {\n    return function(html) {\n        var parser = new DOMParser(), doc;\n        try {\n            doc = parser.parseFromString(html, \"text/html\");\n        } catch(e) {\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\n            doc = document.implementation.createHTMLDocument(\"\");\n            try {\n                doc.open();\n                doc.write(html);\n                doc.close();\n            } catch(ee) {\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\n            }\n        }\n\n        var b = doc.querySelector(\"base\");\n        if (!b || !b.href.host) {\n            var base = doc.createElement(\"base\");\n            base.href = src;\n            doc.head.insertBefore(base, doc.head.firstChild);\n        }\n\n        return doc;\n    };\n}\n\n\nfunction labelCanvasElements(ownerDocument) {\n    [].slice.call(ownerDocument.querySelectorAll(\"canvas\"), 0).forEach(function(canvas) {\n        canvas.setAttribute(html2canvasCanvasCloneAttribute, \"canvas-\" + html2canvasCanvasCloneIndex++);\n    });\n}\n\nfunction cloneCanvasContents(ownerDocument, documentClone) {\n    [].slice.call(ownerDocument.querySelectorAll(\"[\" + html2canvasCanvasCloneAttribute + \"]\"), 0).forEach(function(canvas) {\n        try {\n            var clonedCanvas = documentClone.querySelector('[' + html2canvasCanvasCloneAttribute + '=\"' + canvas.getAttribute(html2canvasCanvasCloneAttribute) + '\"]');\n            if (clonedCanvas) {\n                clonedCanvas.width = canvas.width;\n                clonedCanvas.height = canvas.height;\n                clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n            }\n        } catch(e) {\n            log(\"Unable to copy canvas content from\", canvas, e);\n        }\n        canvas.removeAttribute(html2canvasCanvasCloneAttribute);\n    });\n}\n\nfunction removeScriptNodes(parent) {\n    [].slice.call(parent.childNodes, 0).filter(isElementNode).forEach(function(node) {\n        if (node.tagName === \"SCRIPT\") {\n            parent.removeChild(node);\n        } else {\n            removeScriptNodes(node);\n        }\n    });\n    return parent;\n}\n\nfunction isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction absoluteUrl(url) {\n    var link = document.createElement(\"a\");\n    link.href = url;\n    link.href = link.href;\n    return link;\n}\n\n// http://dev.w3.org/csswg/css-color/\n\nfunction Color(value) {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = null;\n    var result = this.fromArray(value) ||\n        this.namedColor(value) ||\n        this.rgb(value) ||\n        this.rgba(value) ||\n        this.hex6(value) ||\n        this.hex3(value);\n}\n\nColor.prototype.darken = function(amount) {\n    var a = 1 - amount;\n    return  new Color([\n        Math.round(this.r * a),\n        Math.round(this.g * a),\n        Math.round(this.b * a),\n        this.a\n    ]);\n};\n\nColor.prototype.isTransparent = function() {\n    return this.a === 0;\n};\n\nColor.prototype.isBlack = function() {\n    return this.r === 0 && this.g === 0 && this.b === 0;\n};\n\nColor.prototype.fromArray = function(array) {\n    if (Array.isArray(array)) {\n        this.r = Math.min(array[0], 255);\n        this.g = Math.min(array[1], 255);\n        this.b = Math.min(array[2], 255);\n        if (array.length > 3) {\n            this.a = array[3];\n        }\n    }\n\n    return (Array.isArray(array));\n};\n\nvar _hex3 = /^#([a-f0-9]{3})$/i;\n\nColor.prototype.hex3 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex3)) !== null) {\n        this.r = parseInt(match[1][0] + match[1][0], 16);\n        this.g = parseInt(match[1][1] + match[1][1], 16);\n        this.b = parseInt(match[1][2] + match[1][2], 16);\n    }\n    return match !== null;\n};\n\nvar _hex6 = /^#([a-f0-9]{6})$/i;\n\nColor.prototype.hex6 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex6)) !== null) {\n        this.r = parseInt(match[1].substring(0, 2), 16);\n        this.g = parseInt(match[1].substring(2, 4), 16);\n        this.b = parseInt(match[1].substring(4, 6), 16);\n    }\n    return match !== null;\n};\n\n\nvar _rgb = /^rgb\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3})\\)$/;\n\nColor.prototype.rgb = function(value) {\n    var match = null;\n    if ((match = value.match(_rgb)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n    }\n    return match !== null;\n};\n\nvar _rgba = /^rgba\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3}) *, *(\\d+\\.?\\d*)\\)$/;\n\nColor.prototype.rgba = function(value) {\n    var match = null;\n    if ((match = value.match(_rgba)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n        this.a = Number(match[4]);\n    }\n    return match !== null;\n};\n\nColor.prototype.toString = function() {\n    return this.a !== null && this.a !== 1 ?\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\n};\n\nColor.prototype.namedColor = function(value) {\n    var color = colors[value.toLowerCase()];\n    if (color) {\n        this.r = color[0];\n        this.g = color[1];\n        this.b = color[2];\n    } else if (value.toLowerCase() === \"transparent\") {\n        this.r = this.g = this.b = this.a = 0;\n        return true;\n    }\n\n    return !!color;\n};\n\nColor.prototype.isColor = true;\n\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\nvar colors = {\n    \"aliceblue\": [240, 248, 255],\n    \"antiquewhite\": [250, 235, 215],\n    \"aqua\": [0, 255, 255],\n    \"aquamarine\": [127, 255, 212],\n    \"azure\": [240, 255, 255],\n    \"beige\": [245, 245, 220],\n    \"bisque\": [255, 228, 196],\n    \"black\": [0, 0, 0],\n    \"blanchedalmond\": [255, 235, 205],\n    \"blue\": [0, 0, 255],\n    \"blueviolet\": [138, 43, 226],\n    \"brown\": [165, 42, 42],\n    \"burlywood\": [222, 184, 135],\n    \"cadetblue\": [95, 158, 160],\n    \"chartreuse\": [127, 255, 0],\n    \"chocolate\": [210, 105, 30],\n    \"coral\": [255, 127, 80],\n    \"cornflowerblue\": [100, 149, 237],\n    \"cornsilk\": [255, 248, 220],\n    \"crimson\": [220, 20, 60],\n    \"cyan\": [0, 255, 255],\n    \"darkblue\": [0, 0, 139],\n    \"darkcyan\": [0, 139, 139],\n    \"darkgoldenrod\": [184, 134, 11],\n    \"darkgray\": [169, 169, 169],\n    \"darkgreen\": [0, 100, 0],\n    \"darkgrey\": [169, 169, 169],\n    \"darkkhaki\": [189, 183, 107],\n    \"darkmagenta\": [139, 0, 139],\n    \"darkolivegreen\": [85, 107, 47],\n    \"darkorange\": [255, 140, 0],\n    \"darkorchid\": [153, 50, 204],\n    \"darkred\": [139, 0, 0],\n    \"darksalmon\": [233, 150, 122],\n    \"darkseagreen\": [143, 188, 143],\n    \"darkslateblue\": [72, 61, 139],\n    \"darkslategray\": [47, 79, 79],\n    \"darkslategrey\": [47, 79, 79],\n    \"darkturquoise\": [0, 206, 209],\n    \"darkviolet\": [148, 0, 211],\n    \"deeppink\": [255, 20, 147],\n    \"deepskyblue\": [0, 191, 255],\n    \"dimgray\": [105, 105, 105],\n    \"dimgrey\": [105, 105, 105],\n    \"dodgerblue\": [30, 144, 255],\n    \"firebrick\": [178, 34, 34],\n    \"floralwhite\": [255, 250, 240],\n    \"forestgreen\": [34, 139, 34],\n    \"fuchsia\": [255, 0, 255],\n    \"gainsboro\": [220, 220, 220],\n    \"ghostwhite\": [248, 248, 255],\n    \"gold\": [255, 215, 0],\n    \"goldenrod\": [218, 165, 32],\n    \"gray\": [128, 128, 128],\n    \"green\": [0, 128, 0],\n    \"greenyellow\": [173, 255, 47],\n    \"grey\": [128, 128, 128],\n    \"honeydew\": [240, 255, 240],\n    \"hotpink\": [255, 105, 180],\n    \"indianred\": [205, 92, 92],\n    \"indigo\": [75, 0, 130],\n    \"ivory\": [255, 255, 240],\n    \"khaki\": [240, 230, 140],\n    \"lavender\": [230, 230, 250],\n    \"lavenderblush\": [255, 240, 245],\n    \"lawngreen\": [124, 252, 0],\n    \"lemonchiffon\": [255, 250, 205],\n    \"lightblue\": [173, 216, 230],\n    \"lightcoral\": [240, 128, 128],\n    \"lightcyan\": [224, 255, 255],\n    \"lightgoldenrodyellow\": [250, 250, 210],\n    \"lightgray\": [211, 211, 211],\n    \"lightgreen\": [144, 238, 144],\n    \"lightgrey\": [211, 211, 211],\n    \"lightpink\": [255, 182, 193],\n    \"lightsalmon\": [255, 160, 122],\n    \"lightseagreen\": [32, 178, 170],\n    \"lightskyblue\": [135, 206, 250],\n    \"lightslategray\": [119, 136, 153],\n    \"lightslategrey\": [119, 136, 153],\n    \"lightsteelblue\": [176, 196, 222],\n    \"lightyellow\": [255, 255, 224],\n    \"lime\": [0, 255, 0],\n    \"limegreen\": [50, 205, 50],\n    \"linen\": [250, 240, 230],\n    \"magenta\": [255, 0, 255],\n    \"maroon\": [128, 0, 0],\n    \"mediumaquamarine\": [102, 205, 170],\n    \"mediumblue\": [0, 0, 205],\n    \"mediumorchid\": [186, 85, 211],\n    \"mediumpurple\": [147, 112, 219],\n    \"mediumseagreen\": [60, 179, 113],\n    \"mediumslateblue\": [123, 104, 238],\n    \"mediumspringgreen\": [0, 250, 154],\n    \"mediumturquoise\": [72, 209, 204],\n    \"mediumvioletred\": [199, 21, 133],\n    \"midnightblue\": [25, 25, 112],\n    \"mintcream\": [245, 255, 250],\n    \"mistyrose\": [255, 228, 225],\n    \"moccasin\": [255, 228, 181],\n    \"navajowhite\": [255, 222, 173],\n    \"navy\": [0, 0, 128],\n    \"oldlace\": [253, 245, 230],\n    \"olive\": [128, 128, 0],\n    \"olivedrab\": [107, 142, 35],\n    \"orange\": [255, 165, 0],\n    \"orangered\": [255, 69, 0],\n    \"orchid\": [218, 112, 214],\n    \"palegoldenrod\": [238, 232, 170],\n    \"palegreen\": [152, 251, 152],\n    \"paleturquoise\": [175, 238, 238],\n    \"palevioletred\": [219, 112, 147],\n    \"papayawhip\": [255, 239, 213],\n    \"peachpuff\": [255, 218, 185],\n    \"peru\": [205, 133, 63],\n    \"pink\": [255, 192, 203],\n    \"plum\": [221, 160, 221],\n    \"powderblue\": [176, 224, 230],\n    \"purple\": [128, 0, 128],\n    \"rebeccapurple\": [102, 51, 153],\n    \"red\": [255, 0, 0],\n    \"rosybrown\": [188, 143, 143],\n    \"royalblue\": [65, 105, 225],\n    \"saddlebrown\": [139, 69, 19],\n    \"salmon\": [250, 128, 114],\n    \"sandybrown\": [244, 164, 96],\n    \"seagreen\": [46, 139, 87],\n    \"seashell\": [255, 245, 238],\n    \"sienna\": [160, 82, 45],\n    \"silver\": [192, 192, 192],\n    \"skyblue\": [135, 206, 235],\n    \"slateblue\": [106, 90, 205],\n    \"slategray\": [112, 128, 144],\n    \"slategrey\": [112, 128, 144],\n    \"snow\": [255, 250, 250],\n    \"springgreen\": [0, 255, 127],\n    \"steelblue\": [70, 130, 180],\n    \"tan\": [210, 180, 140],\n    \"teal\": [0, 128, 128],\n    \"thistle\": [216, 191, 216],\n    \"tomato\": [255, 99, 71],\n    \"turquoise\": [64, 224, 208],\n    \"violet\": [238, 130, 238],\n    \"wheat\": [245, 222, 179],\n    \"white\": [255, 255, 255],\n    \"whitesmoke\": [245, 245, 245],\n    \"yellow\": [255, 255, 0],\n    \"yellowgreen\": [154, 205, 50]\n};\n\n\nfunction DummyImageContainer(src) {\n    this.src = src;\n    log(\"DummyImageContainer for\", src);\n    if (!this.promise || !this.image) {\n        log(\"Initiating DummyImageContainer\");\n        DummyImageContainer.prototype.image = new Image();\n        var image = this.image;\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\n            image.onload = resolve;\n            image.onerror = reject;\n            image.src = smallImage();\n            if (image.complete === true) {\n                resolve(image);\n            }\n        });\n    }\n}\n\nfunction Font(family, size) {\n    var container = document.createElement('div'),\n        img = document.createElement('img'),\n        span = document.createElement('span'),\n        sampleText = 'Hidden Text',\n        baseline,\n        middle;\n\n    container.style.visibility = \"hidden\";\n    container.style.fontFamily = family;\n    container.style.fontSize = size;\n    container.style.margin = 0;\n    container.style.padding = 0;\n\n    document.body.appendChild(container);\n\n    img.src = smallImage();\n    img.width = 1;\n    img.height = 1;\n\n    img.style.margin = 0;\n    img.style.padding = 0;\n    img.style.verticalAlign = \"baseline\";\n\n    span.style.fontFamily = family;\n    span.style.fontSize = size;\n    span.style.margin = 0;\n    span.style.padding = 0;\n\n    span.appendChild(document.createTextNode(sampleText));\n    container.appendChild(span);\n    container.appendChild(img);\n    baseline = (img.offsetTop - span.offsetTop) + 1;\n\n    container.removeChild(span);\n    container.appendChild(document.createTextNode(sampleText));\n\n    container.style.lineHeight = \"normal\";\n    img.style.verticalAlign = \"super\";\n\n    middle = (img.offsetTop-container.offsetTop) + 1;\n\n    document.body.removeChild(container);\n\n    this.baseline = baseline;\n    this.lineWidth = 1;\n    this.middle = middle;\n}\n\nfunction FontMetrics() {\n    this.data = {};\n}\n\nFontMetrics.prototype.getMetrics = function(family, size) {\n    if (this.data[family + \"-\" + size] === undefined) {\n        this.data[family + \"-\" + size] = new Font(family, size);\n    }\n    return this.data[family + \"-\" + size];\n};\n\nfunction FrameContainer(container, sameOrigin, options) {\n    this.image = null;\n    this.src = container;\n    var self = this;\n    var bounds = getBounds(container);\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\n            container.contentWindow.onload = container.onload = function() {\n                resolve(container);\n            };\n        } else {\n            resolve(container);\n        }\n    })).then(function(container) {\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\n    }).then(function(canvas) {\n        return self.image = canvas;\n    });\n}\n\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\n    var container = this.src;\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\n};\n\nfunction GradientContainer(imageData) {\n    this.src = imageData.value;\n    this.colorStops = [];\n    this.type = null;\n    this.x0 = 0.5;\n    this.y0 = 0.5;\n    this.x1 = 0.5;\n    this.y1 = 0.5;\n    this.promise = Promise.resolve(true);\n}\n\nGradientContainer.prototype.TYPES = {\n    LINEAR: 1,\n    RADIAL: 2\n};\n\nfunction ImageContainer(src, cors) {\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.tainted = null;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        if (cors) {\n            self.image.crossOrigin = \"anonymous\";\n        }\n        self.image.src = src;\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    });\n}\n\nfunction ImageLoader(options, support) {\n    this.link = null;\n    this.options = options;\n    this.support = support;\n    this.origin = this.getOrigin(window.location.href);\n}\n\nImageLoader.prototype.findImages = function(nodes) {\n    var images = [];\n    nodes.reduce(function(imageNodes, container) {\n        switch(container.node.nodeName) {\n        case \"IMG\":\n            return imageNodes.concat([{\n                args: [container.node.src],\n                method: \"url\"\n            }]);\n        case \"svg\":\n        case \"IFRAME\":\n            return imageNodes.concat([{\n                args: [container.node],\n                method: container.node.nodeName\n            }]);\n        }\n        return imageNodes;\n    }, []).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.findBackgroundImage = function(images, container) {\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.addImage = function(images, callback) {\n    return function(newImage) {\n        newImage.args.forEach(function(image) {\n            if (!this.imageExists(images, image)) {\n                images.splice(0, 0, callback.call(this, newImage));\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\n            }\n        }, this);\n    };\n};\n\nImageLoader.prototype.hasImageBackground = function(imageData) {\n    return imageData.method !== \"none\";\n};\n\nImageLoader.prototype.loadImage = function(imageData) {\n    if (imageData.method === \"url\") {\n        var src = imageData.args[0];\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\n            return new SVGContainer(src);\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\n            return new ImageContainer(src, false);\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\n            return new ImageContainer(src, true);\n        } else if (this.options.proxy) {\n            return new ProxyImageContainer(src, this.options.proxy);\n        } else {\n            return new DummyImageContainer(src);\n        }\n    } else if (imageData.method === \"linear-gradient\") {\n        return new LinearGradientContainer(imageData);\n    } else if (imageData.method === \"gradient\") {\n        return new WebkitGradientContainer(imageData);\n    } else if (imageData.method === \"svg\") {\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\n    } else if (imageData.method === \"IFRAME\") {\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\n    } else {\n        return new DummyImageContainer(imageData);\n    }\n};\n\nImageLoader.prototype.isSVG = function(src) {\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\n};\n\nImageLoader.prototype.imageExists = function(images, src) {\n    return images.some(function(image) {\n        return image.src === src;\n    });\n};\n\nImageLoader.prototype.isSameOrigin = function(url) {\n    return (this.getOrigin(url) === this.origin);\n};\n\nImageLoader.prototype.getOrigin = function(url) {\n    var link = this.link || (this.link = document.createElement(\"a\"));\n    link.href = url;\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n    return link.protocol + link.hostname + link.port;\n};\n\nImageLoader.prototype.getPromise = function(container) {\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\n        var dummy = new DummyImageContainer(container.src);\n        return dummy.promise.then(function(image) {\n            container.image = image;\n        });\n    });\n};\n\nImageLoader.prototype.get = function(src) {\n    var found = null;\n    return this.images.some(function(img) {\n        return (found = img).src === src;\n    }) ? found : null;\n};\n\nImageLoader.prototype.fetch = function(nodes) {\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\n    this.images.forEach(function(image, index) {\n        image.promise.then(function() {\n            log(\"Succesfully loaded image #\"+ (index+1), image);\n        }, function(e) {\n            log(\"Failed loading image #\"+ (index+1), image, e);\n        });\n    });\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\n    log(\"Finished searching images\");\n    return this;\n};\n\nImageLoader.prototype.timeout = function(container, timeout) {\n    var timer;\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\n        timer = setTimeout(function() {\n            log(\"Timed out loading image\", container);\n            reject(container);\n        }, timeout);\n    })]).then(function(container) {\n        clearTimeout(timer);\n        return container;\n    });\n    promise['catch'](function() {\n        clearTimeout(timer);\n    });\n    return promise;\n};\n\nfunction LinearGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = this.TYPES.LINEAR;\n\n    var hasDirection = imageData.args[0].match(this.stepRegExp) === null;\n\n    if (hasDirection) {\n        imageData.args[0].split(\" \").reverse().forEach(function(position) {\n            switch(position) {\n            case \"left\":\n                this.x0 = 0;\n                this.x1 = 1;\n                break;\n            case \"top\":\n                this.y0 = 0;\n                this.y1 = 1;\n                break;\n            case \"right\":\n                this.x0 = 1;\n                this.x1 = 0;\n                break;\n            case \"bottom\":\n                this.y0 = 1;\n                this.y1 = 0;\n                break;\n            case \"to\":\n                var y0 = this.y0;\n                var x0 = this.x0;\n                this.y0 = this.y1;\n                this.x0 = this.x1;\n                this.x1 = x0;\n                this.y1 = y0;\n                break;\n            }\n        }, this);\n    } else {\n        this.y0 = 0;\n        this.y1 = 1;\n    }\n\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\n        var colorStopMatch = colorStop.match(this.stepRegExp);\n        return {\n            color: new Color(colorStopMatch[1]),\n            stop: colorStopMatch[3] === \"%\" ? colorStopMatch[2] / 100 : null\n        };\n    }, this);\n\n    if (this.colorStops[0].stop === null) {\n        this.colorStops[0].stop = 0;\n    }\n\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\n        this.colorStops[this.colorStops.length - 1].stop = 1;\n    }\n\n    this.colorStops.forEach(function(colorStop, index) {\n        if (colorStop.stop === null) {\n            this.colorStops.slice(index).some(function(find, count) {\n                if (find.stop !== null) {\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\n                    return true;\n                } else {\n                    return false;\n                }\n            }, this);\n        }\n    }, this);\n}\n\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\nLinearGradientContainer.prototype.stepRegExp = /((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%|px)?/;\n\nfunction log() {\n    if (window.html2canvas.logging && window.console && window.console.log) {\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - window.html2canvas.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\n    }\n}\n\nfunction NodeContainer(node, parent) {\n    this.node = node;\n    this.parent = parent;\n    this.stack = null;\n    this.bounds = null;\n    this.borders = null;\n    this.clip = [];\n    this.backgroundClip = [];\n    this.offsetBounds = null;\n    this.visible = null;\n    this.computedStyles = null;\n    this.colors = {};\n    this.styles = {};\n    this.backgroundImages = null;\n    this.transformData = null;\n    this.transformMatrix = null;\n    this.isPseudoElement = false;\n    this.opacity = null;\n}\n\nNodeContainer.prototype.cloneTo = function(stack) {\n    stack.visible = this.visible;\n    stack.borders = this.borders;\n    stack.bounds = this.bounds;\n    stack.clip = this.clip;\n    stack.backgroundClip = this.backgroundClip;\n    stack.computedStyles = this.computedStyles;\n    stack.styles = this.styles;\n    stack.backgroundImages = this.backgroundImages;\n    stack.opacity = this.opacity;\n};\n\nNodeContainer.prototype.getOpacity = function() {\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\n};\n\nNodeContainer.prototype.assignStack = function(stack) {\n    this.stack = stack;\n    stack.children.push(this);\n};\n\nNodeContainer.prototype.isElementVisible = function() {\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\n        this.css('display') !== \"none\" &&\n        this.css('visibility') !== \"hidden\" &&\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\n    );\n};\n\nNodeContainer.prototype.css = function(attribute) {\n    if (!this.computedStyles) {\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\n    }\n\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\n};\n\nNodeContainer.prototype.prefixedCss = function(attribute) {\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n    var value = this.css(attribute);\n    if (value === undefined) {\n        prefixes.some(function(prefix) {\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\n            return value !== undefined;\n        }, this);\n    }\n    return value === undefined ? null : value;\n};\n\nNodeContainer.prototype.computedStyle = function(type) {\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\n};\n\nNodeContainer.prototype.cssInt = function(attribute) {\n    var value = parseInt(this.css(attribute), 10);\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\n};\n\nNodeContainer.prototype.color = function(attribute) {\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\n};\n\nNodeContainer.prototype.cssFloat = function(attribute) {\n    var value = parseFloat(this.css(attribute));\n    return (isNaN(value)) ? 0 : value;\n};\n\nNodeContainer.prototype.fontWeight = function() {\n    var weight = this.css(\"fontWeight\");\n    switch(parseInt(weight, 10)){\n    case 401:\n        weight = \"bold\";\n        break;\n    case 400:\n        weight = \"normal\";\n        break;\n    }\n    return weight;\n};\n\nNodeContainer.prototype.parseClip = function() {\n    var matches = this.css('clip').match(this.CLIP);\n    if (matches) {\n        return {\n            top: parseInt(matches[1], 10),\n            right: parseInt(matches[2], 10),\n            bottom: parseInt(matches[3], 10),\n            left: parseInt(matches[4], 10)\n        };\n    }\n    return null;\n};\n\nNodeContainer.prototype.parseBackgroundImages = function() {\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\n};\n\nNodeContainer.prototype.cssList = function(property, index) {\n    var value = (this.css(property) || '').split(',');\n    value = value[index || 0] || value[0] || 'auto';\n    value = value.trim().split(' ');\n    if (value.length === 1) {\n        value = [value[0], value[0]];\n    }\n    return value;\n};\n\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\n    var size = this.cssList(\"backgroundSize\", index);\n    var width, height;\n\n    if (isPercentage(size[0])) {\n        width = bounds.width * parseFloat(size[0]) / 100;\n    } else if (/contain|cover/.test(size[0])) {\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\n    } else {\n        width = parseInt(size[0], 10);\n    }\n\n    if (size[0] === 'auto' && size[1] === 'auto') {\n        height = image.height;\n    } else if (size[1] === 'auto') {\n        height = width / image.width * image.height;\n    } else if (isPercentage(size[1])) {\n        height =  bounds.height * parseFloat(size[1]) / 100;\n    } else {\n        height = parseInt(size[1], 10);\n    }\n\n    if (size[0] === 'auto') {\n        width = height / image.height * image.width;\n    }\n\n    return {width: width, height: height};\n};\n\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\n    var position = this.cssList('backgroundPosition', index);\n    var left, top;\n\n    if (isPercentage(position[0])){\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\n    } else {\n        left = parseInt(position[0], 10);\n    }\n\n    if (position[1] === 'auto') {\n        top = left / image.width * image.height;\n    } else if (isPercentage(position[1])){\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\n    } else {\n        top = parseInt(position[1], 10);\n    }\n\n    if (position[0] === 'auto') {\n        left = top / image.height * image.width;\n    }\n\n    return {left: left, top: top};\n};\n\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\n    return this.cssList(\"backgroundRepeat\", index)[0];\n};\n\nNodeContainer.prototype.parseTextShadows = function() {\n    var textShadow = this.css(\"textShadow\");\n    var results = [];\n\n    if (textShadow && textShadow !== 'none') {\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\n        for (var i = 0; shadows && (i < shadows.length); i++) {\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\n            results.push({\n                color: new Color(s[0]),\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\n                blur: s[3] ? s[3].replace('px', '') : 0\n            });\n        }\n    }\n    return results;\n};\n\nNodeContainer.prototype.parseTransform = function() {\n    if (!this.transformData) {\n        if (this.hasTransform()) {\n            var offset = this.parseBounds();\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\n            origin[0] += offset.left;\n            origin[1] += offset.top;\n            this.transformData = {\n                origin: origin,\n                matrix: this.parseTransformMatrix()\n            };\n        } else {\n            this.transformData = {\n                origin: [0, 0],\n                matrix: [1, 0, 0, 1, 0, 0]\n            };\n        }\n    }\n    return this.transformData;\n};\n\nNodeContainer.prototype.parseTransformMatrix = function() {\n    if (!this.transformMatrix) {\n        var transform = this.prefixedCss(\"transform\");\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\n    }\n    return this.transformMatrix;\n};\n\nNodeContainer.prototype.parseBounds = function() {\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\n};\n\nNodeContainer.prototype.hasTransform = function() {\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\n};\n\nNodeContainer.prototype.getValue = function() {\n    var value = this.node.value || \"\";\n    if (this.node.tagName === \"SELECT\") {\n        value = selectionValue(this.node);\n    } else if (this.node.type === \"password\") {\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\n    }\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\n};\n\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix)\\((.+)\\)/;\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\n\nfunction selectionValue(node) {\n    var option = node.options[node.selectedIndex || 0];\n    return option ? (option.text || \"\") : \"\";\n}\n\nfunction parseMatrix(match) {\n    if (match && match[1] === \"matrix\") {\n        return match[2].split(\",\").map(function(s) {\n            return parseFloat(s.trim());\n        });\n    }\n}\n\nfunction isPercentage(value) {\n    return value.toString().indexOf(\"%\") !== -1;\n}\n\nfunction parseBackgrounds(backgroundImage) {\n    var whitespace = ' \\r\\n\\t',\n        method, definition, prefix, prefix_i, block, results = [],\n        mode = 0, numParen = 0, quote, args;\n    var appendResult = function() {\n        if(method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n            if (definition) {\n                args.push(definition);\n            }\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\n                prefix = method.substr(0, prefix_i);\n                method = method.substr(prefix_i);\n            }\n            results.push({\n                prefix: prefix,\n                method: method.toLowerCase(),\n                value: block,\n                args: args,\n                image: null\n            });\n        }\n        args = [];\n        method = prefix = definition = block = '';\n    };\n    args = [];\n    method = prefix = definition = block = '';\n    backgroundImage.split(\"\").forEach(function(c) {\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\n            return;\n        }\n        switch(c) {\n        case '\"':\n            if(!quote) {\n                quote = c;\n            } else if(quote === c) {\n                quote = null;\n            }\n            break;\n        case '(':\n            if(quote) {\n                break;\n            } else if(mode === 0) {\n                mode = 1;\n                block += c;\n                return;\n            } else {\n                numParen++;\n            }\n            break;\n        case ')':\n            if (quote) {\n                break;\n            } else if(mode === 1) {\n                if(numParen === 0) {\n                    mode = 0;\n                    block += c;\n                    appendResult();\n                    return;\n                } else {\n                    numParen--;\n                }\n            }\n            break;\n\n        case ',':\n            if (quote) {\n                break;\n            } else if(mode === 0) {\n                appendResult();\n                return;\n            } else if (mode === 1) {\n                if (numParen === 0 && !method.match(/^url$/i)) {\n                    args.push(definition);\n                    definition = '';\n                    block += c;\n                    return;\n                }\n            }\n            break;\n        }\n\n        block += c;\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n}\n\nfunction removePx(str) {\n    return str.replace(\"px\", \"\");\n}\n\nfunction asFloat(str) {\n    return parseFloat(str);\n}\n\nfunction getBounds(node) {\n    if (node.getBoundingClientRect) {\n        var clientRect = node.getBoundingClientRect();\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\n        return {\n            top: clientRect.top,\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\n            right: clientRect.left + width,\n            left: clientRect.left,\n            width:  width,\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\n        };\n    }\n    return {};\n}\n\nfunction offsetBounds(node) {\n    var parent = node.offsetParent ? offsetBounds(node.offsetParent) : {top: 0, left: 0};\n\n    return {\n        top: node.offsetTop + parent.top,\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\n        right: node.offsetLeft + parent.left + node.offsetWidth,\n        left: node.offsetLeft + parent.left,\n        width: node.offsetWidth,\n        height: node.offsetHeight\n    };\n}\n\nfunction NodeParser(element, renderer, support, imageLoader, options) {\n    log(\"Starting NodeParser\");\n    this.renderer = renderer;\n    this.options = options;\n    this.range = null;\n    this.support = support;\n    this.renderQueue = [];\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\n    var parent = new NodeContainer(element, null);\n    if (options.background) {\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\n    }\n    if (element === element.ownerDocument.documentElement) {\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\n    }\n    parent.visibile = parent.isElementVisible();\n    this.createPseudoHideStyles(element.ownerDocument);\n    this.disableAnimations(element.ownerDocument);\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\n        return container.visible = container.isElementVisible();\n    }).map(this.getPseudoElements, this));\n    this.fontMetrics = new FontMetrics();\n    log(\"Fetched nodes, total:\", this.nodes.length);\n    log(\"Calculate overflow clips\");\n    this.calculateOverflowClips();\n    log(\"Start fetching images\");\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\n    this.ready = this.images.ready.then(bind(function() {\n        log(\"Images loaded, starting parsing\");\n        log(\"Creating stacking contexts\");\n        this.createStackingContexts();\n        log(\"Sorting stacking contexts\");\n        this.sortStackingContexts(this.stack);\n        this.parse(this.stack);\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\n        return new Promise(bind(function(resolve) {\n            if (!options.async) {\n                this.renderQueue.forEach(this.paint, this);\n                resolve();\n            } else if (typeof(options.async) === \"function\") {\n                options.async.call(this, this.renderQueue, resolve);\n            } else if (this.renderQueue.length > 0){\n                this.renderIndex = 0;\n                this.asyncRenderer(this.renderQueue, resolve);\n            } else {\n                resolve();\n            }\n        }, this));\n    }, this));\n}\n\nNodeParser.prototype.calculateOverflowClips = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container)) {\n            if (isPseudoElement(container)) {\n                container.appendToDOM();\n            }\n            container.borders = this.parseBorders(container);\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\n            var cssClip = container.parseClip();\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\n                clip.push([[\"rect\",\n                        container.bounds.left + cssClip.left,\n                        container.bounds.top + cssClip.top,\n                        cssClip.right - cssClip.left,\n                        cssClip.bottom - cssClip.top\n                ]]);\n            }\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\n            if (isPseudoElement(container)) {\n                container.cleanDOM();\n            }\n        } else if (isTextNode(container)) {\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\n        }\n        if (!isPseudoElement(container)) {\n            container.bounds = null;\n        }\n    }, this);\n};\n\nfunction hasParentClip(container) {\n    return container.parent && container.parent.clip.length;\n}\n\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\n    asyncTimer = asyncTimer || Date.now();\n    this.paint(queue[this.renderIndex++]);\n    if (queue.length === this.renderIndex) {\n        resolve();\n    } else if (asyncTimer + 20 > Date.now()) {\n        this.asyncRenderer(queue, resolve, asyncTimer);\n    } else {\n        setTimeout(bind(function() {\n            this.asyncRenderer(queue, resolve);\n        }, this), 0);\n    }\n};\n\nNodeParser.prototype.createPseudoHideStyles = function(document) {\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\n};\n\nNodeParser.prototype.disableAnimations = function(document) {\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\n};\n\nNodeParser.prototype.createStyles = function(document, styles) {\n    var hidePseudoElements = document.createElement('style');\n    hidePseudoElements.innerHTML = styles;\n    document.body.appendChild(hidePseudoElements);\n};\n\nNodeParser.prototype.getPseudoElements = function(container) {\n    var nodes = [[container]];\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\n        var before = this.getPseudoElement(container, \":before\");\n        var after = this.getPseudoElement(container, \":after\");\n\n        if (before) {\n            nodes.push(before);\n        }\n\n        if (after) {\n            nodes.push(after);\n        }\n    }\n    return flatten(nodes);\n};\n\nfunction toCamelCase(str) {\n    return str.replace(/(\\-[a-z])/g, function(match){\n        return match.toUpperCase().replace('-','');\n    });\n}\n\nNodeParser.prototype.getPseudoElement = function(container, type) {\n    var style = container.computedStyle(type);\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\n        return null;\n    }\n\n    var content = stripQuotes(style.content);\n    var isImage = content.substr(0, 3) === 'url';\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\n\n    for (var i = style.length-1; i >= 0; i--) {\n        var property = toCamelCase(style.item(i));\n        pseudoNode.style[property] = style[property];\n    }\n\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n\n    if (isImage) {\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\n        return [pseudoContainer];\n    } else {\n        var text = document.createTextNode(content);\n        pseudoNode.appendChild(text);\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\n    }\n};\n\n\nNodeParser.prototype.getChildren = function(parentContainer) {\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\n    }, this));\n};\n\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\n    container.cloneTo(stack);\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\n    parentStack.contexts.push(stack);\n    container.stack = stack;\n};\n\nNodeParser.prototype.createStackingContexts = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\n            this.newStackingContext(container, true);\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\n            this.newStackingContext(container, false);\n        } else {\n            container.assignStack(container.parent.stack);\n        }\n    }, this);\n};\n\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\n};\n\nNodeParser.prototype.isRootElement = function(container) {\n    return container.parent === null;\n};\n\nNodeParser.prototype.sortStackingContexts = function(stack) {\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\n    stack.contexts.forEach(this.sortStackingContexts, this);\n};\n\nNodeParser.prototype.parseTextBounds = function(container) {\n    return function(text, index, textList) {\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\n                var offset = textList.slice(0, index).join(\"\").length;\n                return this.getRangeBounds(container.node, offset, text.length);\n            } else if (container.node && typeof(container.node.data) === \"string\") {\n                var replacementNode = container.node.splitText(text.length);\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\n                container.node = replacementNode;\n                return bounds;\n            }\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\n            container.node = container.node.splitText(text.length);\n        }\n        return {};\n    };\n};\n\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    var parent = node.parentNode,\n        backupText = node.cloneNode(true);\n\n    wrapper.appendChild(node.cloneNode(true));\n    parent.replaceChild(wrapper, node);\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\n    parent.replaceChild(backupText, wrapper);\n    return bounds;\n};\n\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\n    var range = this.range || (this.range = node.ownerDocument.createRange());\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range.getBoundingClientRect();\n};\n\nfunction ClearTransform() {}\n\nNodeParser.prototype.parse = function(stack) {\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\n    var descendantElements = stack.children.filter(isElement);\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\n    var text = stack.children.filter(isTextNode).filter(hasText);\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\n            this.renderQueue.push(container);\n            if (isStackingContext(container)) {\n                this.parse(container);\n                this.renderQueue.push(new ClearTransform());\n            }\n        }, this);\n};\n\nNodeParser.prototype.paint = function(container) {\n    try {\n        if (container instanceof ClearTransform) {\n            this.renderer.ctx.restore();\n        } else if (isTextNode(container)) {\n            if (isPseudoElement(container.parent)) {\n                container.parent.appendToDOM();\n            }\n            this.paintText(container);\n            if (isPseudoElement(container.parent)) {\n                container.parent.cleanDOM();\n            }\n        } else {\n            this.paintNode(container);\n        }\n    } catch(e) {\n        log(e);\n        if (this.options.strict) {\n            throw e;\n        }\n    }\n};\n\nNodeParser.prototype.paintNode = function(container) {\n    if (isStackingContext(container)) {\n        this.renderer.setOpacity(container.opacity);\n        this.renderer.ctx.save();\n        if (container.hasTransform()) {\n            this.renderer.setTransform(container.parseTransform());\n        }\n    }\n\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\n        this.paintCheckbox(container);\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\n        this.paintRadio(container);\n    } else {\n        this.paintElement(container);\n    }\n};\n\nNodeParser.prototype.paintElement = function(container) {\n    var bounds = container.parseBounds();\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\n    }, this);\n\n    this.renderer.clip(container.clip, function() {\n        this.renderer.renderBorders(container.borders.borders);\n    }, this);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        switch (container.node.nodeName) {\n        case \"svg\":\n        case \"IFRAME\":\n            var imgContainer = this.images.get(container.node);\n            if (imgContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\n            } else {\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\n            }\n            break;\n        case \"IMG\":\n            var imageContainer = this.images.get(container.node.src);\n            if (imageContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\n            } else {\n                log(\"Error loading <img>\", container.node.src);\n            }\n            break;\n        case \"CANVAS\":\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\n            break;\n        case \"SELECT\":\n        case \"INPUT\":\n        case \"TEXTAREA\":\n            this.paintFormValue(container);\n            break;\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintCheckbox = function(container) {\n    var b = container.parseBounds();\n\n    var size = Math.min(b.width, b.height);\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\n    var r = [3, 3];\n    var radius = [r, r, r, r];\n    var borders = [1,1,1,1].map(function(w) {\n        return {color: new Color('#A5A5A5'), width: w};\n    });\n\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\n        if (container.node.checked) {\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintRadio = function(container) {\n    var bounds = container.parseBounds();\n\n    var size = Math.min(bounds.width, bounds.height) - 2;\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\n        if (container.node.checked) {\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\n        }\n    }, this);\n};\n\nNodeParser.prototype.paintFormValue = function(container) {\n    var value = container.getValue();\n    if (value.length > 0) {\n        var document = container.node.ownerDocument;\n        var wrapper = document.createElement('html2canvaswrapper');\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\n            'boxSizing', 'whiteSpace', 'wordWrap'];\n\n        properties.forEach(function(property) {\n            try {\n                wrapper.style[property] = container.css(property);\n            } catch(e) {\n                // Older IE has issues with \"border\"\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\n            }\n        });\n        var bounds = container.parseBounds();\n        wrapper.style.position = \"fixed\";\n        wrapper.style.left = bounds.left + \"px\";\n        wrapper.style.top = bounds.top + \"px\";\n        wrapper.textContent = value;\n        document.body.appendChild(wrapper);\n        this.paintText(new TextContainer(wrapper.firstChild, container));\n        document.body.removeChild(wrapper);\n    }\n};\n\nNodeParser.prototype.paintText = function(container) {\n    container.applyTextTransform();\n    var characters = window.html2canvas.punycode.ucs2.decode(container.node.data);\n    var textList = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data) ? getWords(characters) : characters.map(function(character) {\n        return window.html2canvas.punycode.ucs2.encode([character]);\n    });\n\n    var weight = container.parent.fontWeight();\n    var size = container.parent.css('fontSize');\n    var family = container.parent.css('fontFamily');\n    var shadows = container.parent.parseTextShadows();\n\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\n    if (shadows.length) {\n        // TODO: support multiple text shadows\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\n    } else {\n        this.renderer.clearShadow();\n    }\n\n    this.renderer.clip(container.parent.clip, function() {\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\n            if (bounds) {\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\n            }\n        }, this);\n    }, this);\n};\n\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\n    case \"underline\":\n        // Draws a line at the baseline of the font\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"overline\":\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"line-through\":\n        // TODO try and find exact position for line-through\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    }\n};\n\nvar borderColorTransforms = {\n    inset: [\n        [\"darken\", 0.60],\n        [\"darken\", 0.10],\n        [\"darken\", 0.10],\n        [\"darken\", 0.60]\n    ]\n};\n\nNodeParser.prototype.parseBorders = function(container) {\n    var nodeBounds = container.parseBounds();\n    var radius = getBorderRadiusData(container);\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\n        var style = container.css('border' + side + 'Style');\n        var color = container.color('border' + side + 'Color');\n        if (style === \"inset\" && color.isBlack()) {\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\n        }\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\n        return {\n            width: container.cssInt('border' + side + 'Width'),\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\n            args: null\n        };\n    });\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\n\n    return {\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\n    };\n};\n\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\n    return borders.map(function(border, borderSide) {\n        if (border.width > 0) {\n            var bx = nodeBounds.left;\n            var by = nodeBounds.top;\n            var bw = nodeBounds.width;\n            var bh = nodeBounds.height - (borders[2].width);\n\n            switch(borderSide) {\n            case 0:\n                // top border\n                bh = borders[0].width;\n                border.args = drawSide({\n                        c1: [bx, by],\n                        c2: [bx + bw, by],\n                        c3: [bx + bw - borders[1].width, by + bh],\n                        c4: [bx + borders[3].width, by + bh]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\n                break;\n            case 1:\n                // right border\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\n                bw = borders[1].width;\n\n                border.args = drawSide({\n                        c1: [bx + bw, by],\n                        c2: [bx + bw, by + bh + borders[2].width],\n                        c3: [bx, by + bh],\n                        c4: [bx, by + borders[0].width]\n                    }, radius[1], radius[2],\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\n                break;\n            case 2:\n                // bottom border\n                by = (by + nodeBounds.height) - (borders[2].width);\n                bh = borders[2].width;\n                border.args = drawSide({\n                        c1: [bx + bw, by + bh],\n                        c2: [bx, by + bh],\n                        c3: [bx + borders[3].width, by],\n                        c4: [bx + bw - borders[3].width, by]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\n                break;\n            case 3:\n                // left border\n                bw = borders[3].width;\n                border.args = drawSide({\n                        c1: [bx, by + bh + borders[2].width],\n                        c2: [bx, by],\n                        c3: [bx + bw, by + borders[0].width],\n                        c4: [bx + bw, by + bh]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\n                break;\n            }\n        }\n        return border;\n    });\n}\n\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\n    var backgroundClip = container.css('backgroundClip'),\n        borderArgs = [];\n\n    switch(backgroundClip) {\n    case \"content-box\":\n    case \"padding-box\":\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\n        break;\n\n    default:\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\n        break;\n    }\n\n    return borderArgs;\n};\n\nfunction getCurvePoints(x, y, r1, r2) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = (r1) * kappa, // control point offset horizontal\n        oy = (r2) * kappa, // control point offset vertical\n        xm = x + r1, // x-middle\n        ym = y + r2; // y-middle\n    return {\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\n    };\n}\n\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\n    var x = bounds.left,\n        y = bounds.top,\n        width = bounds.width,\n        height = bounds.height,\n\n        tlh = borderRadius[0][0],\n        tlv = borderRadius[0][1],\n        trh = borderRadius[1][0],\n        trv = borderRadius[1][1],\n        brh = borderRadius[2][0],\n        brv = borderRadius[2][1],\n        blh = borderRadius[3][0],\n        blv = borderRadius[3][1];\n\n    var topWidth = width - trh,\n        rightHeight = height - brv,\n        bottomWidth = width - brh,\n        leftHeight = height - blv;\n\n    return {\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\n    };\n}\n\nfunction bezierCurve(start, startControl, endControl, end) {\n    var lerp = function (a, b, t) {\n        return {\n            x: a.x + (b.x - a.x) * t,\n            y: a.y + (b.y - a.y) * t\n        };\n    };\n\n    return {\n        start: start,\n        startControl: startControl,\n        endControl: endControl,\n        end: end,\n        subdivide: function(t) {\n            var ab = lerp(start, startControl, t),\n                bc = lerp(startControl, endControl, t),\n                cd = lerp(endControl, end, t),\n                abbc = lerp(ab, bc, t),\n                bccd = lerp(bc, cd, t),\n                dest = lerp(abbc, bccd, t);\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\n        },\n        curveTo: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\n        },\n        curveToReversed: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\n        }\n    };\n}\n\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\n    var borderArgs = [];\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\n        outer1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\n        outer2[0].curveTo(borderArgs);\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\n        inner2[0].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\n    }\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\n        inner1[1].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\n        corner1[0].curveTo(borderArgs);\n        corner1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([\"line\", x, y]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\n    }\n}\n\nfunction negativeZIndex(container) {\n    return container.cssInt(\"zIndex\") < 0;\n}\n\nfunction positiveZIndex(container) {\n    return container.cssInt(\"zIndex\") > 0;\n}\n\nfunction zIndex0(container) {\n    return container.cssInt(\"zIndex\") === 0;\n}\n\nfunction inlineLevel(container) {\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction isStackingContext(container) {\n    return (container instanceof StackingContext);\n}\n\nfunction hasText(container) {\n    return container.node.data.trim().length > 0;\n}\n\nfunction noLetterSpacing(container) {\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\n}\n\nfunction getBorderRadiusData(container) {\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\n        var value = container.css('border' + side + 'Radius');\n        var arr = value.split(\" \");\n        if (arr.length <= 1) {\n            arr[1] = arr[0];\n        }\n        return arr.map(asInt);\n    });\n}\n\nfunction renderableNode(node) {\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\n}\n\nfunction isPositionedForStacking(container) {\n    var position = container.css(\"position\");\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\n    return zIndex !== \"auto\";\n}\n\nfunction isPositioned(container) {\n    return container.css(\"position\") !== \"static\";\n}\n\nfunction isFloating(container) {\n    return container.css(\"float\") !== \"none\";\n}\n\nfunction isInlineBlock(container) {\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction not(callback) {\n    var context = this;\n    return function() {\n        return !callback.apply(context, arguments);\n    };\n}\n\nfunction isElement(container) {\n    return container.node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isPseudoElement(container) {\n    return container.isPseudoElement === true;\n}\n\nfunction isTextNode(container) {\n    return container.node.nodeType === Node.TEXT_NODE;\n}\n\nfunction zIndexSort(contexts) {\n    return function(a, b) {\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\n    };\n}\n\nfunction hasOpacity(container) {\n    return container.getOpacity() < 1;\n}\n\nfunction bind(callback, context) {\n    return function() {\n        return callback.apply(context, arguments);\n    };\n}\n\nfunction asInt(value) {\n    return parseInt(value, 10);\n}\n\nfunction getWidth(border) {\n    return border.width;\n}\n\nfunction nonIgnoredElement(nodeContainer) {\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\n}\n\nfunction flatten(arrays) {\n    return [].concat.apply([], arrays);\n}\n\nfunction stripQuotes(content) {\n    var first = content.substr(0, 1);\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\n}\n\nfunction getWords(characters) {\n    var words = [], i = 0, onWordBoundary = false, word;\n    while(characters.length) {\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\n            }\n            onWordBoundary =! onWordBoundary;\n            i = 0;\n        } else {\n            i++;\n        }\n\n        if (i >= characters.length) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\n            }\n        }\n    }\n    return words;\n}\n\nfunction isWordBoundary(characterCode) {\n    return [\n        32, // <space>\n        13, // \\r\n        10, // \\n\n        9, // \\t\n        45 // -\n    ].indexOf(characterCode) !== -1;\n}\n\nfunction hasUnicode(string) {\n    return (/[^\\u0000-\\u00ff]/).test(string);\n}\n\nfunction Proxy(src, proxyUrl, document) {\n    if (!proxyUrl) {\n        return Promise.reject(\"No proxy configured\");\n    }\n    var callback = createCallback(supportsCORS);\n    var url = createProxyUrl(proxyUrl, src, callback);\n\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\n        return decode64(response.content);\n    }));\n}\nvar proxyCount = 0;\n\nvar supportsCORS = ('withCredentials' in new XMLHttpRequest());\nvar supportsCORSImage = ('crossOrigin' in new Image());\n\nfunction ProxyURL(src, proxyUrl, document) {\n    var callback = createCallback(supportsCORSImage);\n    var url = createProxyUrl(proxyUrl, src, callback);\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\n        return \"data:\" + response.type + \";base64,\" + response.content;\n    }));\n}\n\nfunction jsonp(document, url, callback) {\n    return new Promise(function(resolve, reject) {\n        var s = document.createElement(\"script\");\n        var cleanup = function() {\n            delete window.html2canvas.proxy[callback];\n            document.body.removeChild(s);\n        };\n        window.html2canvas.proxy[callback] = function(response) {\n            cleanup();\n            resolve(response);\n        };\n        s.src = url;\n        s.onerror = function(e) {\n            cleanup();\n            reject(e);\n        };\n        document.body.appendChild(s);\n    });\n}\n\nfunction createCallback(useCORS) {\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\n}\n\nfunction createProxyUrl(proxyUrl, src, callback) {\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\n}\n\nfunction ProxyImageContainer(src, proxy) {\n    var script = document.createElement(\"script\");\n    var link = document.createElement(\"a\");\n    link.href = src;\n    src = link.href;\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.crossOrigin = \"Anonymous\";\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n\n        new ProxyURL(src, proxy, document).then(function(url) {\n            self.image.src = url;\n        })['catch'](reject);\n    });\n}\n\nfunction PseudoElementContainer(node, parent, type) {\n    NodeContainer.call(this, node, parent);\n    this.isPseudoElement = true;\n    this.before = type === \":before\";\n}\n\nPseudoElementContainer.prototype.cloneTo = function(stack) {\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\n    stack.isPseudoElement = true;\n    stack.before = this.before;\n};\n\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\n\nPseudoElementContainer.prototype.appendToDOM = function() {\n    if (this.before) {\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\n    } else {\n        this.parent.node.appendChild(this.node);\n    }\n    this.parent.node.className += \" \" + this.getHideClass();\n};\n\nPseudoElementContainer.prototype.cleanDOM = function() {\n    this.node.parentNode.removeChild(this.node);\n    // this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\n};\n\nPseudoElementContainer.prototype.getHideClass = function() {\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\n};\n\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\n\nfunction Renderer(width, height, images, options, document) {\n    this.width = width;\n    this.height = height;\n    this.images = images;\n    this.options = options;\n    this.document = document;\n}\n\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\n    var paddingLeft = container.cssInt('paddingLeft'),\n        paddingTop = container.cssInt('paddingTop'),\n        paddingRight = container.cssInt('paddingRight'),\n        paddingBottom = container.cssInt('paddingBottom'),\n        borders = borderData.borders;\n\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\n    this.drawImage(\n        imageContainer,\n        0,\n        0,\n        imageContainer.image.width || width,\n        imageContainer.image.height || height,\n        bounds.left + paddingLeft + borders[3].width,\n        bounds.top + paddingTop + borders[0].width,\n        width,\n        height\n    );\n};\n\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\n    if (bounds.height > 0 && bounds.width > 0) {\n        this.renderBackgroundColor(container, bounds);\n        this.renderBackgroundImage(container, bounds, borderData);\n    }\n};\n\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\n    var color = container.color(\"backgroundColor\");\n    if (!color.isTransparent()) {\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\n    }\n};\n\nRenderer.prototype.renderBorders = function(borders) {\n    borders.forEach(this.renderBorder, this);\n};\n\nRenderer.prototype.renderBorder = function(data) {\n    if (!data.color.isTransparent() && data.args !== null) {\n        this.drawShape(data.args, data.color);\n    }\n};\n\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\n    var backgroundImages = container.parseBackgroundImages();\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\n        switch(backgroundImage.method) {\n        case \"url\":\n            var image = this.images.get(backgroundImage.args[0]);\n            if (image) {\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"linear-gradient\":\n        case \"gradient\":\n            var gradientImage = this.images.get(backgroundImage.value);\n            if (gradientImage) {\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"none\":\n            break;\n        default:\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\n        }\n    }, this);\n};\n\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\n    var repeat = container.parseBackgroundRepeat(index);\n    switch (repeat) {\n    case \"repeat-x\":\n    case \"repeat no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\n        break;\n    case \"repeat-y\":\n    case \"no-repeat repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\n        break;\n    case \"no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\n        break;\n    default:\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\n        break;\n    }\n};\n\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\n    NodeContainer.call(this, element, parent);\n    this.ownStacking = hasOwnStacking;\n    this.contexts = [];\n    this.children = [];\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\n}\n\nStackingContext.prototype = Object.create(NodeContainer.prototype);\n\nStackingContext.prototype.getParentStack = function(context) {\n    var parentStack = (this.parent) ? this.parent.stack : null;\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\n};\n\nfunction Support(document) {\n    this.rangeBounds = this.testRangeBounds(document);\n    this.cors = this.testCORS();\n    this.svg = this.testSVG();\n}\n\nSupport.prototype.testRangeBounds = function(document) {\n    var range, testElement, rangeBounds, rangeHeight, support = false;\n\n    if (document.createRange) {\n        range = document.createRange();\n        if (range.getBoundingClientRect) {\n            testElement = document.createElement('boundtest');\n            testElement.style.height = \"123px\";\n            testElement.style.display = \"block\";\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            rangeBounds = range.getBoundingClientRect();\n            rangeHeight = rangeBounds.height;\n\n            if (rangeHeight === 123) {\n                support = true;\n            }\n            document.body.removeChild(testElement);\n        }\n    }\n\n    return support;\n};\n\nSupport.prototype.testCORS = function() {\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\n};\n\nSupport.prototype.testSVG = function() {\n    var img = new Image();\n    var canvas = document.createElement(\"canvas\");\n    var ctx =  canvas.getContext(\"2d\");\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch(e) {\n        return false;\n    }\n    return true;\n};\n\nfunction SVGContainer(src) {\n    this.src = src;\n    this.image = null;\n    var self = this;\n\n    this.promise = this.hasFabric().then(function() {\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\n    }).then(function(svg) {\n        return new Promise(function(resolve) {\n            html2canvas.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGContainer.prototype.hasFabric = function() {\n    return !html2canvas.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\n};\n\nSVGContainer.prototype.inlineFormatting = function(src) {\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\n};\n\nSVGContainer.prototype.removeContentType = function(src) {\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\n};\n\nSVGContainer.prototype.isInline = function(src) {\n    return (/^data:image\\/svg\\+xml/i.test(src));\n};\n\nSVGContainer.prototype.createCanvas = function(resolve) {\n    var self = this;\n    return function (objects, options) {\n        var canvas = new html2canvas.fabric.StaticCanvas('c');\n        self.image = canvas.lowerCanvasEl;\n        canvas\n            .setWidth(options.width)\n            .setHeight(options.height)\n            .add(html2canvas.fabric.util.groupSVGElements(objects, options))\n            .renderAll();\n        resolve(canvas.lowerCanvasEl);\n    };\n};\n\nSVGContainer.prototype.decode64 = function(str) {\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\n};\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction decode64(base64) {\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\n\n    var output = \"\";\n\n    for (i = 0; i < len; i+=4) {\n        encoded1 = chars.indexOf(base64[i]);\n        encoded2 = chars.indexOf(base64[i+1]);\n        encoded3 = chars.indexOf(base64[i+2]);\n        encoded4 = chars.indexOf(base64[i+3]);\n\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\n        if (encoded3 === 64) {\n            output += String.fromCharCode(byte1);\n        } else if (encoded4 === 64 || encoded4 === -1) {\n            output += String.fromCharCode(byte1, byte2);\n        } else{\n            output += String.fromCharCode(byte1, byte2, byte3);\n        }\n    }\n\n    return output;\n}\n\nfunction SVGNodeContainer(node, native) {\n    this.src = node;\n    this.image = null;\n    var self = this;\n\n    this.promise = native ? new Promise(function(resolve, reject) {\n        self.image = new Image();\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    }) : this.hasFabric().then(function() {\n        return new Promise(function(resolve) {\n            html2canvas.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\n\nfunction TextContainer(node, parent) {\n    NodeContainer.call(this, node, parent);\n}\n\nTextContainer.prototype = Object.create(NodeContainer.prototype);\n\nTextContainer.prototype.applyTextTransform = function() {\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\n};\n\nTextContainer.prototype.transform = function(transform) {\n    var text = this.node.data;\n    switch(transform){\n        case \"lowercase\":\n            return text.toLowerCase();\n        case \"capitalize\":\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\n        case \"uppercase\":\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n}\n\nfunction WebkitGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = (imageData.args[0] === \"linear\") ? this.TYPES.LINEAR : this.TYPES.RADIAL;\n}\n\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\nfunction XHR(url) {\n    return new Promise(function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                resolve(xhr.responseText);\n            } else {\n                reject(new Error(xhr.statusText));\n            }\n        };\n\n        xhr.onerror = function() {\n            reject(new Error(\"Network Error\"));\n        };\n\n        xhr.send();\n    });\n}\n\nfunction CanvasRenderer(width, height) {\n    Renderer.apply(this, arguments);\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\n    if (!this.options.canvas) {\n        this.canvas.width = width;\n        this.canvas.height = height;\n    }\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\n    this.ctx.textBaseline = \"bottom\";\n    this.variables = {};\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\n}\n\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\n\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\n    this.setFillStyle(color).fillRect(left, top, width, height);\n};\n\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\n    this.setFillStyle(color);\n    this.ctx.beginPath();\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\n    this.ctx.closePath();\n    this.ctx.fill();\n};\n\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\n    this.circle(left, top, size, color);\n    this.ctx.strokeStyle = strokeColor.toString();\n    this.ctx.stroke();\n};\n\nCanvasRenderer.prototype.drawShape = function(shape, color) {\n    this.shape(shape);\n    this.setFillStyle(color).fill();\n};\n\nCanvasRenderer.prototype.taints = function(imageContainer) {\n    if (imageContainer.tainted === null) {\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\n        try {\n            this.taintCtx.getImageData(0, 0, 1, 1);\n            imageContainer.tainted = false;\n        } catch(e) {\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\n            imageContainer.tainted = true;\n        }\n    }\n\n    return imageContainer.tainted;\n};\n\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\n    }\n};\n\nCanvasRenderer.prototype.clip = function(shapes, callback, context) {\n    this.ctx.save();\n    shapes.filter(hasEntries).forEach(function(shape) {\n        this.shape(shape).clip();\n    }, this);\n    callback.call(context);\n    this.ctx.restore();\n};\n\nCanvasRenderer.prototype.shape = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    this.ctx.closePath();\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\n};\n\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\n    this.setVariable(\"shadowColor\", color.toString())\n        .setVariable(\"shadowOffsetY\", offsetX)\n        .setVariable(\"shadowOffsetX\", offsetY)\n        .setVariable(\"shadowBlur\", blur);\n};\n\nCanvasRenderer.prototype.clearShadow = function() {\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\n};\n\nCanvasRenderer.prototype.setOpacity = function(opacity) {\n    this.ctx.globalAlpha = opacity;\n};\n\nCanvasRenderer.prototype.setTransform = function(transform) {\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\n    this.ctx.transform.apply(this.ctx, transform.matrix);\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\n};\n\nCanvasRenderer.prototype.setVariable = function(property, value) {\n    if (this.variables[property] !== value) {\n        this.variables[property] = this.ctx[property] = value;\n    }\n\n    return this;\n};\n\nCanvasRenderer.prototype.text = function(text, left, bottom) {\n    this.ctx.fillText(text, left, bottom);\n};\n\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\n    var shape = [\n        [\"line\", Math.round(left), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(height + top)],\n        [\"line\", Math.round(left), Math.round(height + top)]\n    ];\n    this.clip([shape], function() {\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\n    }, this);\n};\n\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\n    this.ctx.translate(offsetX, offsetY);\n    this.ctx.fill();\n    this.ctx.translate(-offsetX, -offsetY);\n};\n\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\n    if (gradientImage instanceof LinearGradientContainer) {\n        var gradient = this.ctx.createLinearGradient(\n            bounds.left + bounds.width * gradientImage.x0,\n            bounds.top + bounds.height * gradientImage.y0,\n            bounds.left +  bounds.width * gradientImage.x1,\n            bounds.top +  bounds.height * gradientImage.y1);\n        gradientImage.colorStops.forEach(function(colorStop) {\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\n        });\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\n    }\n};\n\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\n    var image = imageContainer.image;\n    if(image.width === size.width && image.height === size.height) {\n        return image;\n    }\n\n    var ctx, canvas = document.createElement('canvas');\n    canvas.width = size.width;\n    canvas.height = size.height;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\n    return canvas;\n};\n\nfunction hasEntries(array) {\n    return array.length > 0;\n}\n\n}).call({}, typeof(window) !== \"undefined\" ? window : undefined, typeof(document) !== \"undefined\" ? document : undefined);"],"names":["window","document","exports","global","define","undefined","r","a","b","n","l","A","s","t","p","q","g","TypeError","constructor","m","u","L","c","then","d","v","error","e","f","call","J","K","M","x","length","C","D","k","h","y","i","o","this","N","E","Array","isArray","Object","prototype","toString","B","w","MutationObserver","WebKitMutationObserver","Uint8ClampedArray","importScripts","MessageChannel","process","nextTick","createTextNode","observe","characterData","data","port1","onmessage","port2","postMessage","H","setTimeout","Error","j","resolve","all","race","reject","arguments","z","Promise","polyfill","self","amd","module","ES6Promise","create","createElement","getContext","root","freeExports","nodeType","freeModule","freeGlobal","punycode","key","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","String","fromCharCode","type","RangeError","map","array","fn","result","mapDomain","string","parts","split","join","ucs2decode","value","extra","output","counter","charCodeAt","push","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","decode","input","out","basic","index","oldi","baseMinusT","codePoint","inputLength","bias","lastIndexOf","splice","encode","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","test","slice","toLowerCase","hasOwnProperty","html2canvasCanvasCloneIndex","html2canvasCloneIndex","html2canvas","nodeList","options","url","link","logging","start","Date","now","async","allowTaint","removeContainer","javascriptEnabled","imageTimeout","renderer","CanvasRenderer","strict","proxy","width","innerWidth","height","innerHeight","loadUrlDocument","href","container","renderWindow","contentWindow","documentElement","node","setAttribute","windowWidth","windowHeight","html2canvasIndex","createWindowClone","defaultView","pageXOffset","pageYOffset","log","attributeName","selector","querySelector","removeAttribute","clonedWindow","onclone","renderDocument","ownerDocument","canvas","onrendered","Color","darken","amount","round","isTransparent","isBlack","fromArray","min","_hex3","hex3","match","parseInt","_hex6","hex6","substring","_rgb","rgb","Number","_rgba","rgba","namedColor","color","colors","isColor","FontMetrics","getMetrics","family","size","Font","FrameContainer","proxyLoad","bounds","src","GradientContainer","TYPES","LINEAR","RADIAL","ImageLoader","findImages","nodes","images","reduce","imageNodes","nodeName","concat","args","method","forEach","addImage","loadImage","findBackgroundImage","parseBackgroundImages","filter","hasImageBackground","callback","newImage","image","imageExists","imageData","isSVG","support","svg","ImageContainer","replace","isSameOrigin","cors","useCORS","ProxyImageContainer","DummyImageContainer","SVGContainer","LinearGradientContainer","WebkitGradientContainer","SVGNodeContainer","isInline","some","getOrigin","origin","protocol","hostname","port","getPromise","timeout","promise","get","found","img","fetch","bind","ready","timer","res","clearTimeout","stepRegExp","NodeContainer","cloneTo","stack","visible","borders","clip","backgroundClip","computedStyles","styles","backgroundImages","opacity","getOpacity","cssFloat","assignStack","children","isElementVisible","Node","TEXT_NODE","parent","css","hasAttribute","getAttribute","attribute","isPseudoElement","computedStyle","before","prefixedCss","prefix","substr","toUpperCase","getComputedStyle","cssInt","isNaN","parseFloat","fontWeight","weight","parseClip","matches","CLIP","top","right","bottom","left","parseBackgrounds","cssList","property","trim","parseBackgroundSize","isPercentage","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","position","parseBackgroundRepeat","parseTextShadows","textShadow","results","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetX","offsetY","blur","parseTransform","transformData","hasTransform","offset","parseBounds","removePx","asFloat","matrix","parseTransformMatrix","transformMatrix","transform","parseMatrix","MATRIX_PROPERTY","offsetBounds","getBounds","getValue","option","tagName","selectedIndex","text","placeholder","NodeParser","calculateOverflowClips","isElement","appendToDOM","parseBorders","cssClip","indexOf","hasParentClip","cleanDOM","isTextNode","asyncRenderer","queue","asyncTimer","paint","renderIndex","createPseudoHideStyles","createStyles","PseudoElementContainer","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","disableAnimations","hidePseudoElements","innerHTML","body","appendChild","getPseudoElements","ELEMENT_NODE","getPseudoElement","after","flatten","style","content","display","first","stripQuotes","isImage","pseudoNode","pseudoContainer","item","className","TextContainer","getChildren","parentContainer","childNodes","renderableNode","nonIgnoredElement","newStackingContext","hasOwnStacking","StackingContext","getParentStack","contexts","createStackingContexts","isRootElement","hasOpacity","isPositionedForStacking","isBodyWithTransparentRoot","isPositioned","zIndex0","isInlineBlock","isFloating","sortStackingContexts","sort","parseTextBounds","textList","rangeBounds","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","parentNode","backupText","cloneNode","replaceChild","range","createRange","setStart","setEnd","getBoundingClientRect","parse","negativeZindex","negativeZIndex","descendantElements","descendantNonFloats","not","nonInlineNonPositionedDescendants","inlineLevel","nonPositionedFloats","inFlow","stackLevel0","hasText","positiveZindex","positiveZIndex","renderQueue","isStackingContext","ClearTransform","ctx","restore","paintText","paintNode","setOpacity","save","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","getWidth","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","radius","borderPoints","calculateCurvePoints","rectangle","calculateBorders","checked","font","circleStroke","circle","ceil","message","textContent","firstChild","removeChild","applyTextTransform","characters","ucs2","letterRendering","noLetterSpacing","character","word","words","onWordBoundary","isWordBoundary","getWords","fontShadow","clearShadow","renderTextDecoration","fontMetrics","metrics","baseline","lineWidth","middle","borderColorTransforms","inset","nodeBounds","side","arr","asInt","getBorderRadiusData","colorTransform","parseBackgroundClip","borderArgs","parseCorner","topLeftInner","topRightInner","bottomRightInner","bottomLeftInner","topLeftOuter","topRightOuter","bottomRightOuter","bottomLeftOuter","proxyCount","supportsCORS","XMLHttpRequest","supportsCORSImage","Image","insertBefore","getHideClass","Renderer","borderData","paddingLeft","paddingTop","paddingRight","paddingBottom","drawImage","renderBackgroundColor","renderBackgroundImage","renderBorder","drawShape","reverse","backgroundImage","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","backgroundRepeatShape","renderBackgroundRepeat","context","parentStack","ownStacking","Support","testRangeBounds","testElement","selectNode","testCORS","crossOrigin","testSVG","toDataURL","hasFabric","fabric","inlineFormatting","decode64","removeContentType","createCanvas","objects","StaticCanvas","lowerCanvasEl","setWidth","setHeight","add","util","groupSVGElements","renderAll","str","atob","capitalize","setFillStyle","fillStyle","fillRect","beginPath","arc","PI","closePath","fill","stroke","strokeColor","strokeStyle","shape","taints","tainted","taintCtx","getImageData","sx","sy","sw","sh","dx","dy","dw","dh","shapes","hasEntries","point","rect","apply","variant","setVariable","globalAlpha","translate","variables","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","x0","y0","x1","y1","colorStops","colorStop","addColorStop","stop","doc","imageLoader","max","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","documentHeight","crop","cleanupContainer","croppedCanvas","x2","y2","cloneNodeIE9","clone","nodeValue","child","nextSibling","containerDocument","querySelectorAll","labelCanvasElements","documentMode","visibility","border","scrolling","documentClone","cloneNodeValues","onload","interval","setInterval","clonedCanvas","putImageData","cloneCanvasContents","clearInterval","scrollTo","open","write","restoreOwnerScroll","adoptNode","removeScriptNodes","close","originalNodes","getElementsByTagName","clonedNodes","count","Proxy","documentFromHTML","html","parser","DOMParser","parseFromString","implementation","createHTMLDocument","ee","host","head","isElementNode","onerror","complete","span","fontFamily","fontSize","margin","padding","verticalAlign","offsetTop","lineHeight","sameOrigin","URL","location","hasDirection","colorStopMatch","find","console","Function","definition","prefix_i","block","quote","mode","numParen","appendResult","clientRect","offsetParent","offsetLeft","element","background","canvasBackground","visibile","borderSide","bx","by","bw","bh","drawSide","c1","c2","c3","c4","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","topLeft","bezierCurve","topRight","bottomRight","bottomLeft","borderRadius","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","end","lerp","ab","bc","cd","abbc","bccd","dest","curveTo","curveToReversed","radius1","radius2","outer1","inner1","outer2","inner2","corner1","corner2","nodeContainer","arrays","characterCode","proxyUrl","createCallback","createProxyUrl","XHR","jsonp","response","ProxyURL","cleanup","random","encodeURIComponent","loadSVGFromString","base64","encoded2","encoded3","encoded4","byte1","byte2","byte3","chars","len","native","XMLSerializer","serializeToString","parseSVGDocument","p1","p2","xhr","status","responseText","statusText","send","textBaseline"],"mappings":"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"}
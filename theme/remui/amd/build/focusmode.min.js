define("theme_remui/focusmode",["jquery","theme_remui/notice","core/str"],(function($,Notice,Str){return{init:function(action){$(document).ready((function(){var SELECTORS,_obj,strings,focusmode=(SELECTORS={BODY:"body",BUTTON_FULLSCREEN:"#toggleFullscreen",FM_BUTTON:"#focusmodebutton",FM_BUTTON_ICON:"#focusmodebutton i.fa",SECTION_WRAPPER:".stepprogress-section",SECTION_ITEM:".stepprogress-item",SECTION:".section",ACTIVITY:".activity",GO_BACK:"#go-back",FOCUS_MODE_CLASS:"focusmode"},strings=[{key:"focusmodeenabled",component:"theme_remui"},{key:"focusmodedisabled",component:"theme_remui"}],(_obj={fmstatus:action}).initFocusMode=function(){Str.get_strings(strings).then((function(results){strings=results,_obj.setupFocusMode(),_obj.initEvents()}))},_obj.setupFocusMode=function(){"activate"==(_obj.fmstatus?"activate":"deactivate")&&Notice.info(strings[0])},_obj.initEvents=function(){$(SELECTORS.FM_BUTTON).on("click",(function(){_obj.toggleFocusMode()}))},_obj.changeFMButtonClasses=function(action){"activate"===action&&($(SELECTORS.BODY).addClass(SELECTORS.FOCUS_MODE_CLASS),$(SELECTORS.FM_BUTTON).addClass("btn-danger").removeClass("btn-primary"),$(SELECTORS.FM_BUTTON).attr("aria-pressed","true"),$(SELECTORS.FM_BUTTON_ICON).addClass("fa-compress").removeClass("fa-expand")),"deactivate"===action&&($(SELECTORS.BODY).removeClass(SELECTORS.FOCUS_MODE_CLASS),$(SELECTORS.FM_BUTTON).removeClass("btn-danger").addClass("btn-primary"),$(SELECTORS.FM_BUTTON).attr("aria-pressed","false"),$(SELECTORS.FM_BUTTON_ICON).addClass("fa-expand").removeClass("fa-compress")),$("#page.drawers.show-drawer-left .drawer-left-toggle button").click(),$("#page.drawers.show-drawer-right .drawer-right-toggle button").click()},_obj.toggleFocusMode=function(){if(_obj.fmstatus)var action="deactivate",status=!1,tostr=strings[1];else action="activate",status=!0,tostr=strings[0];_obj.changeFMButtonClasses(action),_obj.fmstatus=status,M.util.set_user_preference("enable_focus_mode",_obj.fmstatus),Notice.info(tostr)},_obj);focusmode.initFocusMode()}))}}}));

//# sourceMappingURL=focusmode.min.js.map
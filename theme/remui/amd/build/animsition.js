!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(f){"use strict";var v="animsition",e=!1;f(window).on("load",function(){e=!0});var h={init:function(o){o=f.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}},o),h.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var t=h.supportCheck.call(this,o);return t||!(0<o.browser.length)||t&&this.length?(h.optionCheck.call(this,o)&&f("."+o.overlayClass).length<=0&&h.addOverlay.call(this,o),o.loading&&f("."+o.loadingClass).length<=0&&h.addLoading.call(this,o),this.each(function(){var a=this,t=f(this),n=f(window),i=f(document);t.data(v)||(o=f.extend({},o),t.data(v,{options:o}),o.timeout&&h.addTimer.call(a),o.onLoadEvent&&(e?(h.settings.timer&&clearTimeout(h.settings.timer),h.in.call(a)):n.on("load",function(t){h.settings.timer&&clearTimeout(h.settings.timer),h.in.call(a)})),n.on("pageshow."+v,function(t){t.originalEvent.persisted&&h.in.call(a)}),n.on("unload."+v,function(){}),i.on("click."+v,o.linkElement,function(t){t.preventDefault();var n=f(this),i=n.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(i,"_blank"):h.out.call(a,n,i)}))})):("console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),t||console.log("Animsition: Does not support this browser."),h.destroy.call(this))},addOverlay:function(t){f(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){f(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var t=f(this).data(v).options;f(t.loadingParentElement).children("."+t.loadingClass).fadeOut().remove()},addTimer:function(){var t=this,n=f(this).data(v).options;h.settings.timer=setTimeout(function(){h.in.call(t),f(window).off("load."+v)},n.timeoutCountdown)},supportCheck:function(t){var n=f(this),i=t.browser,a=i.length,o=!1;0===a&&(o=!0);for(var e=0;e<a;e++)if("string"==typeof n.css(i[e])){o=!0;break}return o},optionCheck:function(t){var n=f(this);return!(!t.overlay&&!n.data(h.settings.data.overlay))},animationCheck:function(t,n,i){var a=f(this).data(v).options,o=typeof t,e=!n&&"number"==o,s=n&&"string"==o&&0<t.length;return e||s?t=t:n&&i?t=a.inClass:!n&&i?t=a.inDuration:n&&!i?t=a.outClass:n||i||(t=a.outDuration),t},in:function(){var t=this,n=f(this),i=n.data(v).options,a=n.data(h.settings.data.inDuration),o=n.data(h.settings.data.inClass),e=h.animationCheck.call(t,a,!1,!0),s=h.animationCheck.call(t,o,!0,!0),l=h.optionCheck.call(t,i),r=n.data(v).outClass;i.loading&&h.removeLoading.call(t),r&&n.removeClass(r),l?h.inOverlay.call(t,s,e):h.inDefault.call(t,s,e)},inDefault:function(t,n){var i=f(this);i.css({"animation-duration":n+"ms"}).addClass(t).trigger(h.settings.events.inStart).animateCallback(function(){i.removeClass(t).css({opacity:1}).trigger(h.settings.events.inEnd)})},inOverlay:function(t,n){var i=f(this),a=i.data(v).options;i.css({opacity:1}).trigger(h.settings.events.inStart),f(a.overlayParentElement).children("."+a.overlayClass).css({"animation-duration":n+"ms"}).addClass(t).animateCallback(function(){i.trigger(h.settings.events.inEnd)})},out:function(t,n){var i=this,a=f(this),o=a.data(v).options,e=t.data(h.settings.data.outClass),s=a.data(h.settings.data.outClass),l=t.data(h.settings.data.outDuration),r=a.data(h.settings.data.outDuration),d=e||s,u=l||r,c=h.animationCheck.call(i,d,!0,!1),m=h.animationCheck.call(i,u,!1,!1),g=h.optionCheck.call(i,o);a.data(v).outClass=c,g?h.outOverlay.call(i,c,m,n):h.outDefault.call(i,c,m,n)},outDefault:function(t,n,i){var a=f(this),o=a.data(v).options;a.css({"animation-duration":n+1+"ms"}).addClass(t).trigger(h.settings.events.outStart).animateCallback(function(){a.trigger(h.settings.events.outEnd),o.transition(i)})},outOverlay:function(t,n,i){var a=f(this),o=a.data(v).options,e=a.data(h.settings.data.inClass),s=h.animationCheck.call(this,e,!0,!0);f(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":n+1+"ms"}).removeClass(s).addClass(t).trigger(h.settings.events.outStart).animateCallback(function(){a.trigger(h.settings.events.outEnd),o.transition(i)})},destroy:function(){return this.each(function(){var t=f(this);f(window).off("."+v),t.css({opacity:1}).removeData(v)})}};f.fn.animateCallback=function(n){var i="animationend webkitAnimationEnd";return this.each(function(){var t=f(this);t.on(i,function(){return t.off(i),n.call(this)})})},f.fn.animsition=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void f.error("Method "+t+" does not exist on jQuery."+v):h.init.apply(this,arguments)}});
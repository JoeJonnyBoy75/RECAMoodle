"use strict";"function"!=typeof Object.create&&(Object.create=function(t){function o(){}return o.prototype=t,new o}),define(["jquery"],function(t){var o={init:function(o,i){this.elem=i,this.$elem=t(i),this.options=t.extend({},t.fn.toolbar.options,o),this.metadata=this.$elem.data(),this.overrideOptions(),this.toolbar=t('<div class="tool-container" />').addClass("tool-"+this.options.position).addClass("toolbar-"+this.options.style).append('<div class="tool-items" />').append('<div class="arrow" />').appendTo("body").css("opacity",0).hide(),this.toolbar_arrow=this.toolbar.find(".arrow"),this.initializeToolbar()},overrideOptions:function(){var o=this;t.each(o.options,function(t){void 0!==o.$elem.data("toolbar-"+t)&&(o.options[t]=o.$elem.data("toolbar-"+t))})},initializeToolbar:function(){this.populateContent(),this.setTrigger(),this.toolbarWidth=this.toolbar.width()},setTrigger:function(){var o=this;if("click"!=o.options.event){var i=function(){o.$elem.hasClass("pressed")?e=setTimeout(function(){o.hide()},150):clearTimeout(e)};o.$elem.on({mouseenter:function(t){o.$elem.hasClass("pressed")?clearTimeout(e):o.show()}}),o.$elem.parent().on({mouseleave:function(t){i()}}),t(".tool-container").on({mouseenter:function(t){clearTimeout(e)},mouseleave:function(t){i()}})}if("click"==o.options.event&&(o.$elem.on("click",function(t){t.preventDefault(),o.$elem.hasClass("pressed")?o.hide():o.show()}),o.options.hideOnClick&&t("html").on("click.toolbar",function(t){t.target!=o.elem&&0===o.$elem.has(t.target).length&&0===o.toolbar.has(t.target).length&&o.toolbar.is(":visible")&&o.hide()})),o.options.hover){var e,s=function(){o.$elem.hasClass("pressed")?e=setTimeout(function(){o.hide()},150):clearTimeout(e)};o.$elem.on({mouseenter:function(t){o.$elem.hasClass("pressed")?clearTimeout(e):o.show()}}),o.$elem.parent().on({mouseleave:function(t){s()}}),t(".tool-container").on({mouseenter:function(t){clearTimeout(e)},mouseleave:function(t){s()}})}t(window).resize(function(t){t.stopPropagation(),o.toolbar.is(":visible")&&(o.toolbarCss=o.getCoordinates(o.options.position,20),o.collisionDetection(),o.toolbar.css(o.toolbarCss),o.toolbar_arrow.css(o.arrowCss))})},populateContent:function(){var o=this,i=o.toolbar.find(".tool-items"),e=t(o.options.content).clone(!0).find("a").addClass("tool-item");i.html(e),i.find(".tool-item").on("click",function(t){t.preventDefault(),o.$elem.trigger("toolbarItemClick",this)})},calculatePosition:function(){this.arrowCss={},this.toolbarCss=this.getCoordinates(this.options.position,this.options.adjustment),this.toolbarCss.position="absolute",this.toolbarCss.zIndex=this.options.zIndex,this.collisionDetection(),this.toolbar.css(this.toolbarCss),this.toolbar_arrow.css(this.arrowCss)},getCoordinates:function(t,o){switch(this.coordinates=this.$elem.offset(),this.options.adjustment&&this.options.adjustment[this.options.position]&&(o=this.options.adjustment[this.options.position]+o),this.options.position){case"top":return{left:this.coordinates.left-this.toolbar.width()/2+this.$elem.outerWidth()/2,top:this.coordinates.top-this.$elem.outerHeight()-o,right:"auto"};case"left":return{left:this.coordinates.left-this.toolbar.width()/2-this.$elem.outerWidth()/2-o,top:this.coordinates.top-this.toolbar.height()/2+this.$elem.outerHeight()/2,right:"auto"};case"right":return{left:this.coordinates.left+this.toolbar.width()/2+this.$elem.outerWidth()/2+o,top:this.coordinates.top-this.toolbar.height()/2+this.$elem.outerHeight()/2,right:"auto"};case"bottom":return{left:this.coordinates.left-this.toolbar.width()/2+this.$elem.outerWidth()/2,top:this.coordinates.top+this.$elem.outerHeight()+o,right:"auto"}}},collisionDetection:function(){"top"!=this.options.position&&"bottom"!=this.options.position||(this.arrowCss={left:"50%",right:"50%"},this.toolbarCss.left<20?(this.toolbarCss.left=20,this.arrowCss.left=this.$elem.offset().left+this.$elem.width()/2-20):t(window).width()-(this.toolbarCss.left+this.toolbarWidth)<20&&(this.toolbarCss.right=20,this.toolbarCss.left="auto",this.arrowCss.left="auto",this.arrowCss.right=t(window).width()-this.$elem.offset().left-this.$elem.width()/2-20-5))},show:function(){this.$elem.addClass("pressed"),this.calculatePosition(),this.toolbar.show().css({opacity:1}).addClass("animate-"+this.options.animation),this.$elem.trigger("toolbarShown")},hide:function(){var t=this,o={opacity:0};switch(t.$elem.removeClass("pressed"),t.options.position){case"top":o.top="+=20";break;case"left":o.left="+=20";break;case"right":o.left="-=20";break;case"bottom":o.top="-=20"}t.toolbar.animate(o,200,function(){t.toolbar.hide()}),t.$elem.trigger("toolbarHidden")},getToolbarElement:function(){return this.toolbar.find(".tool-items")}};t.fn.toolbar=function(i){if(t.isPlainObject(i))return this.each(function(){var e=Object.create(o);e.init(i,this),t(this).data("toolbarObj",e)});if("string"==typeof i&&0!==i.indexOf("_")){var e=t(this).data("toolbarObj");return e[i].apply(e,t.makeArray(arguments).slice(1))}},t.fn.toolbar.options={content:"#myContent",position:"top",hideOnClick:!1,zIndex:120,hover:!1,style:"default",animation:"standard",adjustment:10}});
//# sourceMappingURL=jquery-toolbar.min.js.map

define("block_edwiserratingreview/reviewfilter",["jquery","core/ajax","core/notification","core/templates"],(function($,Ajax,Notification){var SELECTORS_REVIEWDATA=".reviewdata",SELECTORS_SHOWMOREREVIEWBTN=".showmorereviewsbtn",SELECTORS_REVIEWSELECTOR=".reviewselector",SELECTORS_SHOWMOREREVIEWCLASS="#showmorereviewclass",setbuttonurl=function(rating){var url=M.cfg.wwwroot+"/blocks/edwiserratingreview/view.php?filter="+rating+"&contextid="+M.cfg.contextid;$(SELECTORS_SHOWMOREREVIEWBTN).attr("href",url)};const loadReviews=()=>{var rates,rating=$(".reviewselector option:selected").attr("value");rates=rating,Ajax.call([{methodname:"block_edwiserratingreview_show_review",args:{rating:rates,startlimit:0,lastlimit:5,contextid:M.cfg.contextid},done:function(data){var result="No Reviews found";""!==data&&(result=data),$(SELECTORS_REVIEWDATA).empty().append(result),5==$(SELECTORS_REVIEWDATA).children("li.review-card").length?(M.util.get_string("showmorereview","block_edwiserratingreview"),$(SELECTORS_SHOWMOREREVIEWCLASS).empty().append('<a href = "#" class= "btn btn-outline-secondary btn-lg btn-block showmorereviewsbtn">Show More Review</a>'),setbuttonurl(rates)):$(SELECTORS_SHOWMOREREVIEWCLASS).empty().append("")},fail:function(){console.log(Notification.exception)}}])};return{init:function(){$(document).ready((function(){loadReviews(),$(document).on("change",SELECTORS_REVIEWSELECTOR,(function(){loadReviews()}))}))}}}));

//# sourceMappingURL=reviewfilter.min.js.map
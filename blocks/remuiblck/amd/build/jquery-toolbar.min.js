if("function"!=typeof Object.create){Object.create=function(a){function b(){}b.prototype=a;return new b}}define ("block_remuiblck/jquery-toolbar",["jquery"],function(a){var b={init:function init(b,c){var d=this;d.elem=c;d.$elem=a(c);d.options=a.extend({},a.fn.toolbar.options,b);d.metadata=d.$elem.data();d.overrideOptions();d.toolbar=a("<div class=\"tool-container\" />").addClass("tool-"+d.options.position).addClass("toolbar-"+d.options.style).append("<div class=\"tool-items\" />").append("<div class=\"arrow\" />").appendTo("body").css("opacity",0).hide();d.toolbar_arrow=d.toolbar.find(".arrow");d.initializeToolbar()},overrideOptions:function overrideOptions(){var b=this;a.each(b.options,function(a){if("undefined"!=typeof b.$elem.data("toolbar-"+a)){b.options[a]=b.$elem.data("toolbar-"+a)}})},initializeToolbar:function initializeToolbar(){var a=this;a.populateContent();a.setTrigger();a.toolbarWidth=a.toolbar.width()},setTrigger:function setTrigger(){var b=this;if("click"!=b.options.event){var c=function(){if(b.$elem.hasClass("pressed")){d=setTimeout(function(){b.hide()},150)}else{clearTimeout(d)}},d;b.$elem.on({mouseenter:function mouseenter(){if(b.$elem.hasClass("pressed")){clearTimeout(d)}else{b.show()}}});b.$elem.parent().on({mouseleave:function mouseleave(){c()}});a(".tool-container").on({mouseenter:function mouseenter(){clearTimeout(d)},mouseleave:function mouseleave(){c()}})}if("click"==b.options.event){b.$elem.on("click",function(a){a.preventDefault();if(b.$elem.hasClass("pressed")){b.hide()}else{b.show()}});if(b.options.hideOnClick){a("html").on("click.toolbar",function(a){if(a.target!=b.elem&&0===b.$elem.has(a.target).length&&0===b.toolbar.has(a.target).length&&b.toolbar.is(":visible")){b.hide()}})}}if(b.options.hover){var e=function(){if(b.$elem.hasClass("pressed")){d=setTimeout(function(){b.hide()},150)}else{clearTimeout(d)}},d;b.$elem.on({mouseenter:function mouseenter(){if(b.$elem.hasClass("pressed")){clearTimeout(d)}else{b.show()}}});b.$elem.parent().on({mouseleave:function mouseleave(){e()}});a(".tool-container").on({mouseenter:function mouseenter(){clearTimeout(d)},mouseleave:function mouseleave(){e()}})}a(window).resize(function(a){a.stopPropagation();if(b.toolbar.is(":visible")){b.toolbarCss=b.getCoordinates(b.options.position,20);b.collisionDetection();b.toolbar.css(b.toolbarCss);b.toolbar_arrow.css(b.arrowCss)}})},populateContent:function populateContent(){var b=this,c=b.toolbar.find(".tool-items"),d=a(b.options.content).clone(!0).find("a").addClass("tool-item");c.html(d);c.find(".tool-item").on("click",function(a){a.preventDefault();b.$elem.trigger("toolbarItemClick",this)})},calculatePosition:function calculatePosition(){var a=this;a.arrowCss={};a.toolbarCss=a.getCoordinates(a.options.position,a.options.adjustment);a.toolbarCss.position="absolute";a.toolbarCss.zIndex=a.options.zIndex;a.collisionDetection();a.toolbar.css(a.toolbarCss);a.toolbar_arrow.css(a.arrowCss)},getCoordinates:function getCoordinates(a,b){var c=this;c.coordinates=c.$elem.offset();if(c.options.adjustment&&c.options.adjustment[c.options.position]){b=c.options.adjustment[c.options.position]+b}switch(c.options.position){case"top":return{left:c.coordinates.left-c.toolbar.width()/2+c.$elem.outerWidth()/2,top:c.coordinates.top-c.$elem.outerHeight()-b,right:"auto"};case"left":return{left:c.coordinates.left-c.toolbar.width()/2-c.$elem.outerWidth()/2-b,top:c.coordinates.top-c.toolbar.height()/2+c.$elem.outerHeight()/2,right:"auto"};case"right":return{left:c.coordinates.left+c.toolbar.width()/2+c.$elem.outerWidth()/2+b,top:c.coordinates.top-c.toolbar.height()/2+c.$elem.outerHeight()/2,right:"auto"};case"bottom":return{left:c.coordinates.left-c.toolbar.width()/2+c.$elem.outerWidth()/2,top:c.coordinates.top+c.$elem.outerHeight()+b,right:"auto"};}},collisionDetection:function collisionDetection(){var b=this,c=20;if("top"==b.options.position||"bottom"==b.options.position){b.arrowCss={left:"50%",right:"50%"};if(b.toolbarCss.left<c){b.toolbarCss.left=c;b.arrowCss.left=b.$elem.offset().left+b.$elem.width()/2-c}else if(a(window).width()-(b.toolbarCss.left+b.toolbarWidth)<c){b.toolbarCss.right=c;b.toolbarCss.left="auto";b.arrowCss.left="auto";b.arrowCss.right=a(window).width()-b.$elem.offset().left-b.$elem.width()/2-c-5}}},show:function show(){var a=this;a.$elem.addClass("pressed");a.calculatePosition();a.toolbar.show().css({opacity:1}).addClass("animate-"+a.options.animation);a.$elem.trigger("toolbarShown")},hide:function hide(){var a=this,b={opacity:0};a.$elem.removeClass("pressed");switch(a.options.position){case"top":b.top="+=20";break;case"left":b.left="+=20";break;case"right":b.left="-=20";break;case"bottom":b.top="-=20";break;}a.toolbar.animate(b,200,function(){a.toolbar.hide()});a.$elem.trigger("toolbarHidden")},getToolbarElement:function getToolbarElement(){return this.toolbar.find(".tool-items")}};a.fn.toolbar=function(c){if(a.isPlainObject(c)){return this.each(function(){var d=Object.create(b);d.init(c,this);a(this).data("toolbarObj",d)})}else if("string"==typeof c&&0!==c.indexOf("_")){var d=a(this).data("toolbarObj"),e=d[c];return e.apply(d,a.makeArray(arguments).slice(1))}};a.fn.toolbar.options={content:"#myContent",position:"top",hideOnClick:!1,zIndex:120,hover:!1,style:"default",animation:"standard",adjustment:10}});
//# sourceMappingURL=jquery-toolbar.min.js.map

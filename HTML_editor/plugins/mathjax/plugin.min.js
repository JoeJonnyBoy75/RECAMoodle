!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={showMathMenu:!1,showMathMenuMSIE:!1,TeX:{extensions:["cancel.js"]},messageStyle:"none",asciimath2jax:{ignoreClass:".*",processClass:"AM"},tex2jax:{ignoreClass:".*",processClass:"AM",inlineMath:[["$$","$$"]],displayMath:[["$$$","$$$"]]},"HTML-CSS":{availableFonts:["STIX"],preferredFont:"STIX",webFont:"STIX-Web",imageFont:null},AsciiMath:{decimalsignAlternative:","}},o=[{input:"strike",tag:"menclose",output:"strike",atname:"notation",atval:"horizontalstrike",tex:"sout",ttype:"UNARY"},{input:"rlarw",tag:"mo",output:"⇄",tex:"\\rightleftarrows",ttype:"CONST"},{input:"permille",tag:"mo",output:"‰",tex:"text{\\textperthousand}",ttype:"CONST"},{input:"nwarr",tag:"mo",output:"↖",tex:"nwarr;",ttype:"CONST"},{input:"nearr",tag:"mo",output:"↗",tex:"nearr;",ttype:"CONST"},{input:"searr",tag:"mo",output:"↘",tex:"searr;",ttype:"CONST"},{input:"swarr",tag:"mo",output:"↙",tex:"swarr;",ttype:"CONST"},{input:"+-",tag:"mo",output:"±",tex:"plusmn;",ttype:"CONST"},{input:"mcirc",tag:"mo",output:"⚪",ttype:"CONST"},{input:"mdiamond",tag:"mo",output:"⬦",ttype:"CONST"}],i=function(t,e,n,i){var r=e||"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_HTMLorMML",s=n||a,u=i||o,c=t.head,d=t.createElement("script");d.type="text/x-mathjax-config",d.text='\n    MathJax.Hub.Register.StartupHook("AsciiMath Jax Config",() => {\n      const mathJaxSymbol = '+JSON.stringify(u)+";\n      var AM = MathJax.InputJax.AsciiMath.AM;\n      const symbols = [];\n      for(i = 0; i < mathJaxSymbol.length; ++i) {\n        const symbol = mathJaxSymbol[i];\n        symbol.ttype = AM.TOKEN[symbol.ttype];\n        symbols.push(symbol);\n      };\n      AM.symbols.push(...symbols);\n    });\n    MathJax.Hub.Config("+JSON.stringify(s)+");\n  ",c.appendChild(d);var m=t.createElement("script");m.type="text/javascript",m.src=r,m.defer=!0,c.appendChild(m)},r=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):(t.cancelBubble=!0,t.returnValue=!1)},s=function(t){var e=void 0,n=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c=void 0;t.addCommand("toggleMathJax",function(){n=!n,a.active(n),t.undoManager.ignore(function(){n?t.execCommand("removeMathJax"):t.execCommand("runMathJax",t.editorContainer.id)})}),t.addCommand("runMathJax",function(e){var n=t.contentWindow.MathJax;("string"==typeof e||t.getBody().contains(e))&&(c=!0,n.Hub.Queue(["Typeset",n.Hub,e]))}),t.addCommand("removeMathJax",function(){var e=t.contentWindow.MathJax;if(e){for(var n=e.Hub.getAllJax(),a=0,o=n.length;a<o;a++){var i=n[a],r=t.dom.get(i.inputID);if(r){var s=r.parentNode,u=l(i.originalText,i.inputJax);s.innerHTML=u}}t.dom.remove("MathJax_Message");var c=t.dom.get("MathJax_Hidden"),d=t.dom.get("MathJax_Font_Test");t.dom.remove(c?c.parentNode:""),t.dom.remove(d?d.parentNode:"")}});var d=function(){var e=t.contentWindow.MathJax;if(e){for(var n=e.Hub.getAllJax(),a=t.getDoc().cloneNode(!0),o=0,i=n.length;o<i;o++){var r=n[o],s=a.getElementById(r.inputID);if(s){var u=s.parentNode,c=l(r.originalText,r.inputJax);u.innerHTML=c}}var d=a.getElementById("MathJax_Message");d&&d.parentNode.removeChild(d),t.dom.remove("MathJax_Message");var m=a.getElementById("MathJax_Hidden"),p=a.getElementById("MathJax_Font_Test");if(m){var h=m.parentNode;h.parentNode.removeChild(h)}if(p){var f=p.parentNode;f.parentNode.removeChild(f)}return a.body.innerHTML}},m=function(e){return t.contentWindow.MathJax.Hub.getAllJax(e)},l=function(t,e){return"AsciiMath"===e?("`"+t+"`").split("<").join("< "):"TeX"===e?"$$"+t+"$$":void 0},p=function(){var e=t.selection.getContent(),n='<span class="AM">`'+e+'<span id="customBookmark"></span>`</span>&nbsp;';return t.selection.setContent(n),t.selection.setCursorLocation(t.dom.get("customBookmark")),t.dom.remove("customBookmark"),t.selection.getNode()},h=function(e){if(e&&e.parentNode){e.insertAdjacentHTML("afterEnd",'<span id="customBookmark2"></span>&nbsp;');var n=t.dom.get("customBookmark2"),a=Array.prototype.indexOf.call(n.parentNode.childNodes,n)+2;t.selection.setCursorLocation(n.parentNode,a),t.dom.remove("customBookmark2")}},f=function(){if(e){var a=e;if(e=null,!n){var o=function(){return t.execCommand("runMathJax",a)};t.contentWindow.MathJax.Hub.Queue(o)}return!0}return!1},g=function(t){return"AM"==t.className};t.on("init",function(e){i(e.target.dom.doc,t.getParam("mathjaxUrl"),t.getParam("mathjaxConfig"),t.getParam("mathjaxExtraSymbol"))}),t.on("keypress",function(n){if("`"==n.key){if(null==e)e=p();else if(t.selection.getNode()==e){var a=e;f(),h(a)}r(n)}}),t.on("keydown",function(t){13!=t.keyCode&&10!=t.keyCode||f()&&(h(e),t.stopPropagation(),t.preventDefault())}),t.on("nodechange",function(n,a){if(c)return void(c=!1);var i=n.element,r=g(i)?i:t.dom.getParent(i,g);if(u=null!==r,o.disabled(u),s.disabled(u),r){var d=m(r);if(d.length){var p=d[0],h=l(p.originalText,p.inputJax);r.innerHTML=h}e!==r&&(f(),e=r)}else if(e){if(e.innerHTML.match(/`(&nbsp;|\s|\u00a0|&#160;)*`/)||e.innerHTML.match(/^(&nbsp;|\s|\u00a0|&#160;)*$/)){var x=e.parentNode;x.removeChild(e)}f()}}),t.on("Copy",function(e){n=!0,a.active(n),t.execCommand("removeMathJax")}),t.on("Undo",function(t){n=!0,a.active(n)}),t.on("BeforeAddUndo",function(t){t.level.content=d()}),t.on("PreProcess",function(){t.undoManager.ignore(function(){n=!0,a.active(n),t.execCommand("removeMathJax")})}),t.addCommand("mceAsciimath",function(n){null==e&&(e=p()),n&&t.selection.setContent(n)});var x=t.getParam("document_base_url")+"plugins/mathjax";t.addCommand("mceAsciimathDlg",function(){t.windowManager.open({file:x+"/amcharmap.htm",width:1e3,height:400,inline:1,title:"Math symbols"})}),t.addButton("asciimath",{tooltip:"Add New Math",cmd:"mceAsciimath",image:x+"/img/ed_mathformula2.gif"}),t.addButton("toggleMath",{tooltip:"Copy math  (alt+m)",cmd:"toggleMathJax",icon:"copy",onpostrender:function(){a=this}}),t.addButton("asciimathcharmap",{tooltip:"Math Symbols",cmd:"mceAsciimathDlg",image:x+"/img/ed_mathformula.gif"}),t.shortcuts.add("alt+m","same action as copy math button","toggleMathJax"),t.shortcuts.add("alt+b","same action as superscript button",function(){return!u&&t.execCommand("superscript")}),t.shortcuts.add("alt+n","same action as subscript button",function(){return!u&&t.execCommand("subscript")}),t.addButton("subscript",{cmd:"Subscript",icon:"subscript",onPostRender:function(){o=this},tooltip:"Subscript (alt+n)"}),t.addButton("superscript",{cmd:"Superscript",icon:"superscript",onPostRender:function(){s=this},tooltip:"Superscript (alt+b)"})};e.default=s},function(t,e,n){"use strict";var a=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(a);tinymce.PluginManager.add("mathjax",o.default)}]);